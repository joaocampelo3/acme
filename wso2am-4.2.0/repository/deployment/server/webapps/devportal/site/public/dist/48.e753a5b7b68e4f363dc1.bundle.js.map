{"version":3,"sources":["webpack:///./node_modules/@graphiql/react/dist/forEachState.es.js","webpack:///./node_modules/@graphiql/react/dist/hint.es2.js"],"names":["forEachState","stack","fn","reverseStateStack","state","kind","push","prevState","i","length","__defProp","Object","defineProperty","value","configurable","__name","target","hintList","cursor","token","list","hints","filterAndSortList","normalizeText","string","tokenStart","type","test","start","end","from","line","ch","to","text","filterNonEmpty","entry","isDeprecated","map","proximity","getProximity","pair","sort","a","b","array","predicate","filtered","filter","toLowerCase","replace","suggestion","lexicalDistance","indexOf","j","d","aLength","bLength","cost","Math","min","getVariablesHint","cur","options","step","variableToType","typeInfo","getTypeInfo","keys","name","fields","fieldName","field","description","namedInputType","getValues","tokenState","info","nullableType","ofType","objectType","getFields","objectField","registerHelper","editor","getCursor","getTokenAt","results","Pos","signal"],"mappings":"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","file":"48.e753a5b7b68e4f363dc1.bundle.js","sourcesContent":["var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nfunction forEachState(stack, fn) {\n  const reverseStateStack = [];\n  let state = stack;\n  while (state === null || state === void 0 ? void 0 : state.kind) {\n    reverseStateStack.push(state);\n    state = state.prevState;\n  }\n  for (let i = reverseStateStack.length - 1; i >= 0; i--) {\n    fn(reverseStateStack[i]);\n  }\n}\n__name(forEachState, \"forEachState\");\nexport { forEachState as f };\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nimport { C as CodeMirror } from \"./codemirror.es.js\";\nimport { getNamedType, GraphQLInputObjectType, GraphQLEnumType, GraphQLBoolean, getNullableType, GraphQLList } from \"graphql\";\nimport { f as forEachState } from \"./forEachState.es.js\";\nimport \"./index.es.js\";\nimport \"react\";\nimport \"react-dom\";\nfunction hintList(cursor, token, list) {\n  const hints = filterAndSortList(list, normalizeText(token.string));\n  if (!hints) {\n    return;\n  }\n  const tokenStart = token.type !== null && /\"|\\w/.test(token.string[0]) ? token.start : token.end;\n  return {\n    list: hints,\n    from: { line: cursor.line, ch: tokenStart },\n    to: { line: cursor.line, ch: token.end }\n  };\n}\n__name(hintList, \"hintList\");\nfunction filterAndSortList(list, text) {\n  if (!text) {\n    return filterNonEmpty(list, (entry) => !entry.isDeprecated);\n  }\n  const byProximity = list.map((entry) => ({\n    proximity: getProximity(normalizeText(entry.text), text),\n    entry\n  }));\n  const conciseMatches = filterNonEmpty(filterNonEmpty(byProximity, (pair) => pair.proximity <= 2), (pair) => !pair.entry.isDeprecated);\n  const sortedMatches = conciseMatches.sort((a, b) => (a.entry.isDeprecated ? 1 : 0) - (b.entry.isDeprecated ? 1 : 0) || a.proximity - b.proximity || a.entry.text.length - b.entry.text.length);\n  return sortedMatches.map((pair) => pair.entry);\n}\n__name(filterAndSortList, \"filterAndSortList\");\nfunction filterNonEmpty(array, predicate) {\n  const filtered = array.filter(predicate);\n  return filtered.length === 0 ? array : filtered;\n}\n__name(filterNonEmpty, \"filterNonEmpty\");\nfunction normalizeText(text) {\n  return text.toLowerCase().replace(/\\W/g, \"\");\n}\n__name(normalizeText, \"normalizeText\");\nfunction getProximity(suggestion, text) {\n  let proximity = lexicalDistance(text, suggestion);\n  if (suggestion.length > text.length) {\n    proximity -= suggestion.length - text.length - 1;\n    proximity += suggestion.indexOf(text) === 0 ? 0 : 0.5;\n  }\n  return proximity;\n}\n__name(getProximity, \"getProximity\");\nfunction lexicalDistance(a, b) {\n  let i;\n  let j;\n  const d = [];\n  const aLength = a.length;\n  const bLength = b.length;\n  for (i = 0; i <= aLength; i++) {\n    d[i] = [i];\n  }\n  for (j = 1; j <= bLength; j++) {\n    d[0][j] = j;\n  }\n  for (i = 1; i <= aLength; i++) {\n    for (j = 1; j <= bLength; j++) {\n      const cost = a[i - 1] === b[j - 1] ? 0 : 1;\n      d[i][j] = Math.min(d[i - 1][j] + 1, d[i][j - 1] + 1, d[i - 1][j - 1] + cost);\n      if (i > 1 && j > 1 && a[i - 1] === b[j - 2] && a[i - 2] === b[j - 1]) {\n        d[i][j] = Math.min(d[i][j], d[i - 2][j - 2] + cost);\n      }\n    }\n  }\n  return d[aLength][bLength];\n}\n__name(lexicalDistance, \"lexicalDistance\");\nCodeMirror.registerHelper(\"hint\", \"graphql-variables\", (editor, options) => {\n  const cur = editor.getCursor();\n  const token = editor.getTokenAt(cur);\n  const results = getVariablesHint(cur, token, options);\n  if ((results === null || results === void 0 ? void 0 : results.list) && results.list.length > 0) {\n    results.from = CodeMirror.Pos(results.from.line, results.from.ch);\n    results.to = CodeMirror.Pos(results.to.line, results.to.ch);\n    CodeMirror.signal(editor, \"hasCompletion\", editor, results, token);\n  }\n  return results;\n});\nfunction getVariablesHint(cur, token, options) {\n  const state = token.state.kind === \"Invalid\" ? token.state.prevState : token.state;\n  const kind = state.kind;\n  const step = state.step;\n  if (kind === \"Document\" && step === 0) {\n    return hintList(cur, token, [{ text: \"{\" }]);\n  }\n  const variableToType = options.variableToType;\n  if (!variableToType) {\n    return;\n  }\n  const typeInfo = getTypeInfo(variableToType, token.state);\n  if (kind === \"Document\" || kind === \"Variable\" && step === 0) {\n    const variableNames = Object.keys(variableToType);\n    return hintList(cur, token, variableNames.map((name) => ({\n      text: `\"${name}\": `,\n      type: variableToType[name]\n    })));\n  }\n  if (kind === \"ObjectValue\" || kind === \"ObjectField\" && step === 0) {\n    if (typeInfo.fields) {\n      const inputFields = Object.keys(typeInfo.fields).map((fieldName) => typeInfo.fields[fieldName]);\n      return hintList(cur, token, inputFields.map((field) => ({\n        text: `\"${field.name}\": `,\n        type: field.type,\n        description: field.description\n      })));\n    }\n  }\n  if (kind === \"StringValue\" || kind === \"NumberValue\" || kind === \"BooleanValue\" || kind === \"NullValue\" || kind === \"ListValue\" && step === 1 || kind === \"ObjectField\" && step === 2 || kind === \"Variable\" && step === 2) {\n    const namedInputType = typeInfo.type ? getNamedType(typeInfo.type) : void 0;\n    if (namedInputType instanceof GraphQLInputObjectType) {\n      return hintList(cur, token, [{ text: \"{\" }]);\n    } else if (namedInputType instanceof GraphQLEnumType) {\n      const values = namedInputType.getValues();\n      return hintList(cur, token, values.map((value) => ({\n        text: `\"${value.name}\"`,\n        type: namedInputType,\n        description: value.description\n      })));\n    } else if (namedInputType === GraphQLBoolean) {\n      return hintList(cur, token, [\n        { text: \"true\", type: GraphQLBoolean, description: \"Not false.\" },\n        { text: \"false\", type: GraphQLBoolean, description: \"Not true.\" }\n      ]);\n    }\n  }\n}\n__name(getVariablesHint, \"getVariablesHint\");\nfunction getTypeInfo(variableToType, tokenState) {\n  const info = {\n    type: null,\n    fields: null\n  };\n  forEachState(tokenState, (state) => {\n    if (state.kind === \"Variable\") {\n      info.type = variableToType[state.name];\n    } else if (state.kind === \"ListValue\") {\n      const nullableType = info.type ? getNullableType(info.type) : void 0;\n      info.type = nullableType instanceof GraphQLList ? nullableType.ofType : null;\n    } else if (state.kind === \"ObjectValue\") {\n      const objectType = info.type ? getNamedType(info.type) : void 0;\n      info.fields = objectType instanceof GraphQLInputObjectType ? objectType.getFields() : null;\n    } else if (state.kind === \"ObjectField\") {\n      const objectField = state.name && info.fields ? info.fields[state.name] : null;\n      info.type = objectField === null || objectField === void 0 ? void 0 : objectField.type;\n    }\n  });\n  return info;\n}\n__name(getTypeInfo, \"getTypeInfo\");\n"],"sourceRoot":""}