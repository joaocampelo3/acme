{"version":3,"sources":["webpack:///./node_modules/@graphiql/react/dist/onlineParser.es.js","webpack:///./node_modules/@graphiql/react/dist/show-hint.es.js","webpack:///./node_modules/@graphiql/react/dist/Range.es.js","webpack:///./node_modules/@graphiql/react/dist/hint.es.js"],"names":["__defProp","Object","defineProperty","__name","target","value","configurable","onlineParser","options","eatWhitespace","stream","eatWhile","lexRules","parseRules","editorConfig","initialState","level","step","name","kind","type","rule","needsSeparator","prevState","pushRule","DOCUMENT","token","state","getToken","_a","inBlockstring","match","skipToEnd","length","popRule","needsAdvance","advanceRule","sol","tabSize","indentLevel","Math","floor","indentation","lex","SpecialParseRules","backupState","assign","test","levels","concat","slice","expected","separator","ofRule","call","update","style","unsuccessful","to","from","keys","i","Invalid","Comment","rules","ruleKind","TypeError","successful","isList","Array","isArray","kinds","_mergeNamespaces","n","m","forEach","e","k","d","getOwnPropertyDescriptor","get","enumerable","freeze","showHint$2","exports","CodeMirror","Completion","cm","this","widget","debounce","tick","startPos","getCursor","startLen","getLine","line","getSelection","updateOnCursorActivity","self","on","activityFunc","cursorActivity","showHint","getHints","async","newOpts","hint","prop","defineExtension","parseOptions","selections","listSelections","somethingSelected","supportsSelection","head","anchor","completionActive","close","completion","signal","requestAnimationFrame","window","fn","setTimeout","cancelAnimationFrame","clearTimeout","pos","editor","hintOptions","out","defaultOptions","resolve","getText","text","buildKeyMap","handle","baseMap","Up","moveFocus","Down","PageUp","menuSize","PageDown","Home","setFocus","End","Enter","pick","Tab","Esc","navigator","platform","custom","customKeys","ourMap","addBinding","key2","val","bound","hasOwnProperty","key","extra","extraKeys","getHintElement","hintsElement","el","nodeName","toUpperCase","parentNode","Widget","data","id","random","picked","ownerDocument","getInputField","parentWindow","defaultView","hints","createElement","setAttribute","theme","className","selectedHint","completions","list","elt","appendChild","cur","render","createTextNode","displayText","hintId","container","body","cursorCoords","alignWithWord","left","top","bottom","below","offsetLeft","offsetTop","offsetParent","indexOf","getComputedStyle","position","offsetParentPosition","getBoundingClientRect","bodyPosition","scrollLeft","scrollTop","winW","innerWidth","max","offsetWidth","documentElement","winH","innerHeight","offsetHeight","startScroll","box","moveOnOverlap","DOMRect","scrolls","paddingForScrollbar","scrollHeight","clientHeight","getScrollInfo","height","cursor","ch","closingOnBlur","overlapX","right","display","nativeBarWidth","width","node","firstChild","nextSibling","paddingRight","addKeyMap","keyMap","avoidWrap","changeActive","screenAmount","closeOnUnfocus","onBlur","onFocus","onScroll","curScroll","getWrapperElement","newTop","point","pageYOffset","t","srcElement","completeOnSingleClick","focus","selectedHintRange","getSelectedHintRange","scrollToActive","childNodes","applicableHelpers","helpers","result","push","fetchHints","callback","then","resolveAutoHints","words","getHelpers","resolved","cm2","app","run","getHelper","fromList","anyword","prototype","active","off","operation","replaceRange","scrollIntoView","closeOnPick","identStart","closeCharacters","charAt","disable","first","myTick","finishUpdate","completeSingle","removeChild","removeKeyMap","input","removeAttribute","replace","node1","node2","firstNode","margin","scrollMargin","min","registerHelper","term","getTokenAt","Pos","start","string","substr","found","word","commands","autocomplete","auto","defineOption","mod","showHint$1","__proto__","Symbol","toStringTag","CharacterStream","sourceText","getStartOfToken","_start","getCurrentPosition","_pos","eol","_sourceText","peek","next","char","eat","pattern","_testNextCharacter","isMatched","didEat","eatSpace","skipTo","consume","caseFold","RegExp","startsWith","backUp","num","column","indent","whiteSpaces","charCodeAt","current","character","Range","end","containsPosition","Position","lessThanOrEqualTo","getDefinitionState","tokenState","definitionState","forEachState","getFieldDef","schema","fieldName","getQueryType","getFields","stack","reverseStateStack","objectValues","object","len","values","hintList","filterAndSortList","normalizeText","filterNonEmpty","entry","isDeprecated","map","proximity","getProximity","label","pair","sort","a","b","array","predicate","filtered","filter","toLowerCase","suggestion","lexicalDistance","j","aLength","bLength","cost","SuggestionCommand","command","title","collectFragmentDefs","op","externalFragments","def","getAutocompleteSuggestions","queryText","contextToken","fragmentDefs","opts","getTokenAtPosition","typeInfo","getTypeInfo","Function","Constructor","IMPLEMENTS","NAMED_TYPE","getSuggestionsForImplements","SELECTION_SET","FIELD","ALIASED_FIELD","getSuggestionsForFieldNames","ARGUMENTS","ARGUMENT","argDefs","argDef","_a2","insertText","detail","String","documentation","description","Variable","OBJECT_VALUE","OBJECT_FIELD","objectFieldDefs","objectFields","completionKind","Value","Field","field","ENUM_VALUE","LIST_VALUE","getSuggestionsForInputValues","VARIABLE","namedInputType","inputType","getVariableCompletions","v","TYPE_CONDITION","getSuggestionsForFragmentTypeConditions","FRAGMENT_SPREAD","getSuggestionsForFragmentSpread","VARIABLE_DEFINITION","LIST_TYPE","NON_NULL_TYPE","getSuggestionsForVariableDefinition","DIRECTIVE","getSuggestionsForDirective","getInsertText","ofType","parentType","fields","index","sortText","deprecated","Boolean","deprecationReason","insertTextFormat","Snippet","queryVariables","getValues","EnumMember","documentText","schemaInterfaces","getTypeMap","schemaInterfaceNames","inlineInterfaces","Set","runOnlineParser","_","_b","_c","_d","_e","INTERFACE_DEF","includes","add","interfaceDef","getInterfaces","find","getType","interfaceConfig","toConfig","interfaces","objectTypeDef","objectTypeConfig","currentTypeToExtend","siblingInterfaceNames","Interface","_kind","possibleTypes","abstractType","possibleObjTypes","getPossibleTypes","possibleIfaceMap","create","iface","namedType","typeMap","defState","fragments","getFragmentDefinitions","frag","typeCondition","FRAGMENT_DEFINITION","getParentDefinition","_f","_g","_h","_j","_k","variableType","variableName","definitions","parentDefinition","TYPE","toString","NAME","selectionSet","getDirectives","directive","canUseDirective","styleAtCursor","stateAtCursor","stringAtCursor","lines","split","parser","startState","locations","QUERY","MUTATION","SUBSCRIPTION","INLINE_FRAGMENT","SCHEMA_DEF","SCHEMA","SCALAR_DEF","SCALAR","OBJECT_TYPE_DEF","OBJECT","FIELD_DEF","FIELD_DEFINITION","INTERFACE","UNION_DEF","UNION","ENUM_DEF","ENUM","INPUT_DEF","INPUT_OBJECT","INPUT_VALUE_DEF","ARGUMENTS_DEF","ARGUMENT_DEFINITION","INPUT_FIELD_DEFINITION","directiveDef","enumValue","fieldDef","getMutationType","getSubscriptionType","getDirective","args","enumType","nullableType","objectType","objectField","tokenStart","results","getValue","item"],"mappings":"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","file":"43.4003df54e930e8f42e34.bundle.js","sourcesContent":["var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nimport { i as isIgnored, L as LexRules, P as ParseRules } from \"./index.es.js\";\nimport { Kind } from \"graphql\";\nfunction onlineParser(options = {\n  eatWhitespace: (stream) => stream.eatWhile(isIgnored),\n  lexRules: LexRules,\n  parseRules: ParseRules,\n  editorConfig: {}\n}) {\n  return {\n    startState() {\n      const initialState = {\n        level: 0,\n        step: 0,\n        name: null,\n        kind: null,\n        type: null,\n        rule: null,\n        needsSeparator: false,\n        prevState: null\n      };\n      pushRule(options.parseRules, initialState, Kind.DOCUMENT);\n      return initialState;\n    },\n    token(stream, state) {\n      return getToken(stream, state, options);\n    }\n  };\n}\n__name(onlineParser, \"onlineParser\");\nfunction getToken(stream, state, options) {\n  var _a;\n  if (state.inBlockstring) {\n    if (stream.match(/.*\"\"\"/)) {\n      state.inBlockstring = false;\n      return \"string\";\n    } else {\n      stream.skipToEnd();\n      return \"string\";\n    }\n  }\n  const { lexRules, parseRules, eatWhitespace, editorConfig } = options;\n  if (state.rule && state.rule.length === 0) {\n    popRule(state);\n  } else if (state.needsAdvance) {\n    state.needsAdvance = false;\n    advanceRule(state, true);\n  }\n  if (stream.sol()) {\n    const tabSize = (editorConfig === null || editorConfig === void 0 ? void 0 : editorConfig.tabSize) || 2;\n    state.indentLevel = Math.floor(stream.indentation() / tabSize);\n  }\n  if (eatWhitespace(stream)) {\n    return \"ws\";\n  }\n  const token = lex(lexRules, stream);\n  if (!token) {\n    const matchedSomething = stream.match(/\\S+/);\n    if (!matchedSomething) {\n      stream.match(/\\s/);\n    }\n    pushRule(SpecialParseRules, state, \"Invalid\");\n    return \"invalidchar\";\n  }\n  if (token.kind === \"Comment\") {\n    pushRule(SpecialParseRules, state, \"Comment\");\n    return \"comment\";\n  }\n  const backupState = assign({}, state);\n  if (token.kind === \"Punctuation\") {\n    if (/^[{([]/.test(token.value)) {\n      if (state.indentLevel !== void 0) {\n        state.levels = (state.levels || []).concat(state.indentLevel + 1);\n      }\n    } else if (/^[})\\]]/.test(token.value)) {\n      const levels = state.levels = (state.levels || []).slice(0, -1);\n      if (state.indentLevel) {\n        if (levels.length > 0 && levels[levels.length - 1] < state.indentLevel) {\n          state.indentLevel = levels[levels.length - 1];\n        }\n      }\n    }\n  }\n  while (state.rule) {\n    let expected = typeof state.rule === \"function\" ? state.step === 0 ? state.rule(token, stream) : null : state.rule[state.step];\n    if (state.needsSeparator) {\n      expected = expected === null || expected === void 0 ? void 0 : expected.separator;\n    }\n    if (expected) {\n      if (expected.ofRule) {\n        expected = expected.ofRule;\n      }\n      if (typeof expected === \"string\") {\n        pushRule(parseRules, state, expected);\n        continue;\n      }\n      if ((_a = expected.match) === null || _a === void 0 ? void 0 : _a.call(expected, token)) {\n        if (expected.update) {\n          expected.update(state, token);\n        }\n        if (token.kind === \"Punctuation\") {\n          advanceRule(state, true);\n        } else {\n          state.needsAdvance = true;\n        }\n        return expected.style;\n      }\n    }\n    unsuccessful(state);\n  }\n  assign(state, backupState);\n  pushRule(SpecialParseRules, state, \"Invalid\");\n  return \"invalidchar\";\n}\n__name(getToken, \"getToken\");\nfunction assign(to, from) {\n  const keys = Object.keys(from);\n  for (let i = 0; i < keys.length; i++) {\n    to[keys[i]] = from[keys[i]];\n  }\n  return to;\n}\n__name(assign, \"assign\");\nconst SpecialParseRules = {\n  Invalid: [],\n  Comment: []\n};\nfunction pushRule(rules, state, ruleKind) {\n  if (!rules[ruleKind]) {\n    throw new TypeError(\"Unknown rule: \" + ruleKind);\n  }\n  state.prevState = Object.assign({}, state);\n  state.kind = ruleKind;\n  state.name = null;\n  state.type = null;\n  state.rule = rules[ruleKind];\n  state.step = 0;\n  state.needsSeparator = false;\n}\n__name(pushRule, \"pushRule\");\nfunction popRule(state) {\n  if (!state.prevState) {\n    return;\n  }\n  state.kind = state.prevState.kind;\n  state.name = state.prevState.name;\n  state.type = state.prevState.type;\n  state.rule = state.prevState.rule;\n  state.step = state.prevState.step;\n  state.needsSeparator = state.prevState.needsSeparator;\n  state.prevState = state.prevState.prevState;\n}\n__name(popRule, \"popRule\");\nfunction advanceRule(state, successful) {\n  var _a;\n  if (isList(state) && state.rule) {\n    const step = state.rule[state.step];\n    if (step.separator) {\n      const separator = step.separator;\n      state.needsSeparator = !state.needsSeparator;\n      if (!state.needsSeparator && separator.ofRule) {\n        return;\n      }\n    }\n    if (successful) {\n      return;\n    }\n  }\n  state.needsSeparator = false;\n  state.step++;\n  while (state.rule && !(Array.isArray(state.rule) && state.step < state.rule.length)) {\n    popRule(state);\n    if (state.rule) {\n      if (isList(state)) {\n        if ((_a = state.rule) === null || _a === void 0 ? void 0 : _a[state.step].separator) {\n          state.needsSeparator = !state.needsSeparator;\n        }\n      } else {\n        state.needsSeparator = false;\n        state.step++;\n      }\n    }\n  }\n}\n__name(advanceRule, \"advanceRule\");\nfunction isList(state) {\n  const step = Array.isArray(state.rule) && typeof state.rule[state.step] !== \"string\" && state.rule[state.step];\n  return step && step.isList;\n}\n__name(isList, \"isList\");\nfunction unsuccessful(state) {\n  while (state.rule && !(Array.isArray(state.rule) && state.rule[state.step].ofRule)) {\n    popRule(state);\n  }\n  if (state.rule) {\n    advanceRule(state, false);\n  }\n}\n__name(unsuccessful, \"unsuccessful\");\nfunction lex(lexRules, stream) {\n  const kinds = Object.keys(lexRules);\n  for (let i = 0; i < kinds.length; i++) {\n    const match = stream.match(lexRules[kinds[i]]);\n    if (match && match instanceof Array) {\n      return { kind: kinds[i], value: match[0] };\n    }\n  }\n}\n__name(lex, \"lex\");\nexport { onlineParser as o };\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nimport { a as codemirror } from \"./codemirror.es.js\";\nfunction _mergeNamespaces(n, m) {\n  m.forEach(function(e) {\n    e && typeof e !== \"string\" && !Array.isArray(e) && Object.keys(e).forEach(function(k) {\n      if (k !== \"default\" && !(k in n)) {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function() {\n            return e[k];\n          }\n        });\n      }\n    });\n  });\n  return Object.freeze(n);\n}\n__name(_mergeNamespaces, \"_mergeNamespaces\");\nvar showHint$2 = { exports: {} };\n(function(module, exports) {\n  (function(mod) {\n    mod(codemirror.exports);\n  })(function(CodeMirror) {\n    var HINT_ELEMENT_CLASS = \"CodeMirror-hint\";\n    var ACTIVE_HINT_ELEMENT_CLASS = \"CodeMirror-hint-active\";\n    CodeMirror.showHint = function(cm, getHints, options) {\n      if (!getHints)\n        return cm.showHint(options);\n      if (options && options.async)\n        getHints.async = true;\n      var newOpts = { hint: getHints };\n      if (options)\n        for (var prop in options)\n          newOpts[prop] = options[prop];\n      return cm.showHint(newOpts);\n    };\n    CodeMirror.defineExtension(\"showHint\", function(options) {\n      options = parseOptions(this, this.getCursor(\"start\"), options);\n      var selections = this.listSelections();\n      if (selections.length > 1)\n        return;\n      if (this.somethingSelected()) {\n        if (!options.hint.supportsSelection)\n          return;\n        for (var i = 0; i < selections.length; i++)\n          if (selections[i].head.line != selections[i].anchor.line)\n            return;\n      }\n      if (this.state.completionActive)\n        this.state.completionActive.close();\n      var completion = this.state.completionActive = new Completion(this, options);\n      if (!completion.options.hint)\n        return;\n      CodeMirror.signal(this, \"startCompletion\", this);\n      completion.update(true);\n    });\n    CodeMirror.defineExtension(\"closeHint\", function() {\n      if (this.state.completionActive)\n        this.state.completionActive.close();\n    });\n    function Completion(cm, options) {\n      this.cm = cm;\n      this.options = options;\n      this.widget = null;\n      this.debounce = 0;\n      this.tick = 0;\n      this.startPos = this.cm.getCursor(\"start\");\n      this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\n      if (this.options.updateOnCursorActivity) {\n        var self = this;\n        cm.on(\"cursorActivity\", this.activityFunc = function() {\n          self.cursorActivity();\n        });\n      }\n    }\n    __name(Completion, \"Completion\");\n    var requestAnimationFrame = window.requestAnimationFrame || function(fn) {\n      return setTimeout(fn, 1e3 / 60);\n    };\n    var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n    Completion.prototype = {\n      close: function() {\n        if (!this.active())\n          return;\n        this.cm.state.completionActive = null;\n        this.tick = null;\n        if (this.options.updateOnCursorActivity) {\n          this.cm.off(\"cursorActivity\", this.activityFunc);\n        }\n        if (this.widget && this.data)\n          CodeMirror.signal(this.data, \"close\");\n        if (this.widget)\n          this.widget.close();\n        CodeMirror.signal(this.cm, \"endCompletion\", this.cm);\n      },\n      active: function() {\n        return this.cm.state.completionActive == this;\n      },\n      pick: function(data, i) {\n        var completion = data.list[i], self = this;\n        this.cm.operation(function() {\n          if (completion.hint)\n            completion.hint(self.cm, data, completion);\n          else\n            self.cm.replaceRange(getText(completion), completion.from || data.from, completion.to || data.to, \"complete\");\n          CodeMirror.signal(data, \"pick\", completion);\n          self.cm.scrollIntoView();\n        });\n        if (this.options.closeOnPick) {\n          this.close();\n        }\n      },\n      cursorActivity: function() {\n        if (this.debounce) {\n          cancelAnimationFrame(this.debounce);\n          this.debounce = 0;\n        }\n        var identStart = this.startPos;\n        if (this.data) {\n          identStart = this.data.from;\n        }\n        var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);\n        if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch || pos.ch < identStart.ch || this.cm.somethingSelected() || (!pos.ch || this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {\n          this.close();\n        } else {\n          var self = this;\n          this.debounce = requestAnimationFrame(function() {\n            self.update();\n          });\n          if (this.widget)\n            this.widget.disable();\n        }\n      },\n      update: function(first) {\n        if (this.tick == null)\n          return;\n        var self = this, myTick = ++this.tick;\n        fetchHints(this.options.hint, this.cm, this.options, function(data) {\n          if (self.tick == myTick)\n            self.finishUpdate(data, first);\n        });\n      },\n      finishUpdate: function(data, first) {\n        if (this.data)\n          CodeMirror.signal(this.data, \"update\");\n        var picked = this.widget && this.widget.picked || first && this.options.completeSingle;\n        if (this.widget)\n          this.widget.close();\n        this.data = data;\n        if (data && data.list.length) {\n          if (picked && data.list.length == 1) {\n            this.pick(data, 0);\n          } else {\n            this.widget = new Widget(this, data);\n            CodeMirror.signal(data, \"shown\");\n          }\n        }\n      }\n    };\n    function parseOptions(cm, pos, options) {\n      var editor = cm.options.hintOptions;\n      var out = {};\n      for (var prop in defaultOptions)\n        out[prop] = defaultOptions[prop];\n      if (editor) {\n        for (var prop in editor)\n          if (editor[prop] !== void 0)\n            out[prop] = editor[prop];\n      }\n      if (options) {\n        for (var prop in options)\n          if (options[prop] !== void 0)\n            out[prop] = options[prop];\n      }\n      if (out.hint.resolve)\n        out.hint = out.hint.resolve(cm, pos);\n      return out;\n    }\n    __name(parseOptions, \"parseOptions\");\n    function getText(completion) {\n      if (typeof completion == \"string\")\n        return completion;\n      else\n        return completion.text;\n    }\n    __name(getText, \"getText\");\n    function buildKeyMap(completion, handle) {\n      var baseMap = {\n        Up: function() {\n          handle.moveFocus(-1);\n        },\n        Down: function() {\n          handle.moveFocus(1);\n        },\n        PageUp: function() {\n          handle.moveFocus(-handle.menuSize() + 1, true);\n        },\n        PageDown: function() {\n          handle.moveFocus(handle.menuSize() - 1, true);\n        },\n        Home: function() {\n          handle.setFocus(0);\n        },\n        End: function() {\n          handle.setFocus(handle.length - 1);\n        },\n        Enter: handle.pick,\n        Tab: handle.pick,\n        Esc: handle.close\n      };\n      var mac = /Mac/.test(navigator.platform);\n      if (mac) {\n        baseMap[\"Ctrl-P\"] = function() {\n          handle.moveFocus(-1);\n        };\n        baseMap[\"Ctrl-N\"] = function() {\n          handle.moveFocus(1);\n        };\n      }\n      var custom = completion.options.customKeys;\n      var ourMap = custom ? {} : baseMap;\n      function addBinding(key2, val) {\n        var bound;\n        if (typeof val != \"string\")\n          bound = /* @__PURE__ */ __name(function(cm) {\n            return val(cm, handle);\n          }, \"bound\");\n        else if (baseMap.hasOwnProperty(val))\n          bound = baseMap[val];\n        else\n          bound = val;\n        ourMap[key2] = bound;\n      }\n      __name(addBinding, \"addBinding\");\n      if (custom) {\n        for (var key in custom)\n          if (custom.hasOwnProperty(key))\n            addBinding(key, custom[key]);\n      }\n      var extra = completion.options.extraKeys;\n      if (extra) {\n        for (var key in extra)\n          if (extra.hasOwnProperty(key))\n            addBinding(key, extra[key]);\n      }\n      return ourMap;\n    }\n    __name(buildKeyMap, \"buildKeyMap\");\n    function getHintElement(hintsElement, el) {\n      while (el && el != hintsElement) {\n        if (el.nodeName.toUpperCase() === \"LI\" && el.parentNode == hintsElement)\n          return el;\n        el = el.parentNode;\n      }\n    }\n    __name(getHintElement, \"getHintElement\");\n    function Widget(completion, data) {\n      this.id = \"cm-complete-\" + Math.floor(Math.random(1e6));\n      this.completion = completion;\n      this.data = data;\n      this.picked = false;\n      var widget = this, cm = completion.cm;\n      var ownerDocument = cm.getInputField().ownerDocument;\n      var parentWindow = ownerDocument.defaultView || ownerDocument.parentWindow;\n      var hints = this.hints = ownerDocument.createElement(\"ul\");\n      hints.setAttribute(\"role\", \"listbox\");\n      hints.setAttribute(\"aria-expanded\", \"true\");\n      hints.id = this.id;\n      var theme = completion.cm.options.theme;\n      hints.className = \"CodeMirror-hints \" + theme;\n      this.selectedHint = data.selectedHint || 0;\n      var completions = data.list;\n      for (var i = 0; i < completions.length; ++i) {\n        var elt = hints.appendChild(ownerDocument.createElement(\"li\")), cur = completions[i];\n        var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? \"\" : \" \" + ACTIVE_HINT_ELEMENT_CLASS);\n        if (cur.className != null)\n          className = cur.className + \" \" + className;\n        elt.className = className;\n        if (i == this.selectedHint)\n          elt.setAttribute(\"aria-selected\", \"true\");\n        elt.id = this.id + \"-\" + i;\n        elt.setAttribute(\"role\", \"option\");\n        if (cur.render)\n          cur.render(elt, data, cur);\n        else\n          elt.appendChild(ownerDocument.createTextNode(cur.displayText || getText(cur)));\n        elt.hintId = i;\n      }\n      var container = completion.options.container || ownerDocument.body;\n      var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);\n      var left = pos.left, top = pos.bottom, below = true;\n      var offsetLeft = 0, offsetTop = 0;\n      if (container !== ownerDocument.body) {\n        var isContainerPositioned = [\"absolute\", \"relative\", \"fixed\"].indexOf(parentWindow.getComputedStyle(container).position) !== -1;\n        var offsetParent = isContainerPositioned ? container : container.offsetParent;\n        var offsetParentPosition = offsetParent.getBoundingClientRect();\n        var bodyPosition = ownerDocument.body.getBoundingClientRect();\n        offsetLeft = offsetParentPosition.left - bodyPosition.left - offsetParent.scrollLeft;\n        offsetTop = offsetParentPosition.top - bodyPosition.top - offsetParent.scrollTop;\n      }\n      hints.style.left = left - offsetLeft + \"px\";\n      hints.style.top = top - offsetTop + \"px\";\n      var winW = parentWindow.innerWidth || Math.max(ownerDocument.body.offsetWidth, ownerDocument.documentElement.offsetWidth);\n      var winH = parentWindow.innerHeight || Math.max(ownerDocument.body.offsetHeight, ownerDocument.documentElement.offsetHeight);\n      container.appendChild(hints);\n      cm.getInputField().setAttribute(\"aria-autocomplete\", \"list\");\n      cm.getInputField().setAttribute(\"aria-owns\", this.id);\n      cm.getInputField().setAttribute(\"aria-activedescendant\", this.id + \"-\" + this.selectedHint);\n      var box = completion.options.moveOnOverlap ? hints.getBoundingClientRect() : new DOMRect();\n      var scrolls = completion.options.paddingForScrollbar ? hints.scrollHeight > hints.clientHeight + 1 : false;\n      var startScroll;\n      setTimeout(function() {\n        startScroll = cm.getScrollInfo();\n      });\n      var overlapY = box.bottom - winH;\n      if (overlapY > 0) {\n        var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);\n        if (curTop - height > 0) {\n          hints.style.top = (top = pos.top - height - offsetTop) + \"px\";\n          below = false;\n        } else if (height > winH) {\n          hints.style.height = winH - 5 + \"px\";\n          hints.style.top = (top = pos.bottom - box.top - offsetTop) + \"px\";\n          var cursor = cm.getCursor();\n          if (data.from.ch != cursor.ch) {\n            pos = cm.cursorCoords(cursor);\n            hints.style.left = (left = pos.left - offsetLeft) + \"px\";\n            box = hints.getBoundingClientRect();\n          }\n        }\n      }\n      var overlapX = box.right - winW;\n      if (scrolls)\n        overlapX += cm.display.nativeBarWidth;\n      if (overlapX > 0) {\n        if (box.right - box.left > winW) {\n          hints.style.width = winW - 5 + \"px\";\n          overlapX -= box.right - box.left - winW;\n        }\n        hints.style.left = (left = pos.left - overlapX - offsetLeft) + \"px\";\n      }\n      if (scrolls)\n        for (var node = hints.firstChild; node; node = node.nextSibling)\n          node.style.paddingRight = cm.display.nativeBarWidth + \"px\";\n      cm.addKeyMap(this.keyMap = buildKeyMap(completion, {\n        moveFocus: function(n, avoidWrap) {\n          widget.changeActive(widget.selectedHint + n, avoidWrap);\n        },\n        setFocus: function(n) {\n          widget.changeActive(n);\n        },\n        menuSize: function() {\n          return widget.screenAmount();\n        },\n        length: completions.length,\n        close: function() {\n          completion.close();\n        },\n        pick: function() {\n          widget.pick();\n        },\n        data\n      }));\n      if (completion.options.closeOnUnfocus) {\n        var closingOnBlur;\n        cm.on(\"blur\", this.onBlur = function() {\n          closingOnBlur = setTimeout(function() {\n            completion.close();\n          }, 100);\n        });\n        cm.on(\"focus\", this.onFocus = function() {\n          clearTimeout(closingOnBlur);\n        });\n      }\n      cm.on(\"scroll\", this.onScroll = function() {\n        var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();\n        if (!startScroll)\n          startScroll = cm.getScrollInfo();\n        var newTop = top + startScroll.top - curScroll.top;\n        var point = newTop - (parentWindow.pageYOffset || (ownerDocument.documentElement || ownerDocument.body).scrollTop);\n        if (!below)\n          point += hints.offsetHeight;\n        if (point <= editor.top || point >= editor.bottom)\n          return completion.close();\n        hints.style.top = newTop + \"px\";\n        hints.style.left = left + startScroll.left - curScroll.left + \"px\";\n      });\n      CodeMirror.on(hints, \"dblclick\", function(e) {\n        var t = getHintElement(hints, e.target || e.srcElement);\n        if (t && t.hintId != null) {\n          widget.changeActive(t.hintId);\n          widget.pick();\n        }\n      });\n      CodeMirror.on(hints, \"click\", function(e) {\n        var t = getHintElement(hints, e.target || e.srcElement);\n        if (t && t.hintId != null) {\n          widget.changeActive(t.hintId);\n          if (completion.options.completeOnSingleClick)\n            widget.pick();\n        }\n      });\n      CodeMirror.on(hints, \"mousedown\", function() {\n        setTimeout(function() {\n          cm.focus();\n        }, 20);\n      });\n      var selectedHintRange = this.getSelectedHintRange();\n      if (selectedHintRange.from !== 0 || selectedHintRange.to !== 0) {\n        this.scrollToActive();\n      }\n      CodeMirror.signal(data, \"select\", completions[this.selectedHint], hints.childNodes[this.selectedHint]);\n      return true;\n    }\n    __name(Widget, \"Widget\");\n    Widget.prototype = {\n      close: function() {\n        if (this.completion.widget != this)\n          return;\n        this.completion.widget = null;\n        if (this.hints.parentNode)\n          this.hints.parentNode.removeChild(this.hints);\n        this.completion.cm.removeKeyMap(this.keyMap);\n        var input = this.completion.cm.getInputField();\n        input.removeAttribute(\"aria-activedescendant\");\n        input.removeAttribute(\"aria-owns\");\n        var cm = this.completion.cm;\n        if (this.completion.options.closeOnUnfocus) {\n          cm.off(\"blur\", this.onBlur);\n          cm.off(\"focus\", this.onFocus);\n        }\n        cm.off(\"scroll\", this.onScroll);\n      },\n      disable: function() {\n        this.completion.cm.removeKeyMap(this.keyMap);\n        var widget = this;\n        this.keyMap = { Enter: function() {\n          widget.picked = true;\n        } };\n        this.completion.cm.addKeyMap(this.keyMap);\n      },\n      pick: function() {\n        this.completion.pick(this.data, this.selectedHint);\n      },\n      changeActive: function(i, avoidWrap) {\n        if (i >= this.data.list.length)\n          i = avoidWrap ? this.data.list.length - 1 : 0;\n        else if (i < 0)\n          i = avoidWrap ? 0 : this.data.list.length - 1;\n        if (this.selectedHint == i)\n          return;\n        var node = this.hints.childNodes[this.selectedHint];\n        if (node) {\n          node.className = node.className.replace(\" \" + ACTIVE_HINT_ELEMENT_CLASS, \"\");\n          node.removeAttribute(\"aria-selected\");\n        }\n        node = this.hints.childNodes[this.selectedHint = i];\n        node.className += \" \" + ACTIVE_HINT_ELEMENT_CLASS;\n        node.setAttribute(\"aria-selected\", \"true\");\n        this.completion.cm.getInputField().setAttribute(\"aria-activedescendant\", node.id);\n        this.scrollToActive();\n        CodeMirror.signal(this.data, \"select\", this.data.list[this.selectedHint], node);\n      },\n      scrollToActive: function() {\n        var selectedHintRange = this.getSelectedHintRange();\n        var node1 = this.hints.childNodes[selectedHintRange.from];\n        var node2 = this.hints.childNodes[selectedHintRange.to];\n        var firstNode = this.hints.firstChild;\n        if (node1.offsetTop < this.hints.scrollTop)\n          this.hints.scrollTop = node1.offsetTop - firstNode.offsetTop;\n        else if (node2.offsetTop + node2.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)\n          this.hints.scrollTop = node2.offsetTop + node2.offsetHeight - this.hints.clientHeight + firstNode.offsetTop;\n      },\n      screenAmount: function() {\n        return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;\n      },\n      getSelectedHintRange: function() {\n        var margin = this.completion.options.scrollMargin || 0;\n        return {\n          from: Math.max(0, this.selectedHint - margin),\n          to: Math.min(this.data.list.length - 1, this.selectedHint + margin)\n        };\n      }\n    };\n    function applicableHelpers(cm, helpers) {\n      if (!cm.somethingSelected())\n        return helpers;\n      var result = [];\n      for (var i = 0; i < helpers.length; i++)\n        if (helpers[i].supportsSelection)\n          result.push(helpers[i]);\n      return result;\n    }\n    __name(applicableHelpers, \"applicableHelpers\");\n    function fetchHints(hint, cm, options, callback) {\n      if (hint.async) {\n        hint(cm, callback, options);\n      } else {\n        var result = hint(cm, options);\n        if (result && result.then)\n          result.then(callback);\n        else\n          callback(result);\n      }\n    }\n    __name(fetchHints, \"fetchHints\");\n    function resolveAutoHints(cm, pos) {\n      var helpers = cm.getHelpers(pos, \"hint\"), words;\n      if (helpers.length) {\n        var resolved = /* @__PURE__ */ __name(function(cm2, callback, options) {\n          var app = applicableHelpers(cm2, helpers);\n          function run(i) {\n            if (i == app.length)\n              return callback(null);\n            fetchHints(app[i], cm2, options, function(result) {\n              if (result && result.list.length > 0)\n                callback(result);\n              else\n                run(i + 1);\n            });\n          }\n          __name(run, \"run\");\n          run(0);\n        }, \"resolved\");\n        resolved.async = true;\n        resolved.supportsSelection = true;\n        return resolved;\n      } else if (words = cm.getHelper(cm.getCursor(), \"hintWords\")) {\n        return function(cm2) {\n          return CodeMirror.hint.fromList(cm2, { words });\n        };\n      } else if (CodeMirror.hint.anyword) {\n        return function(cm2, options) {\n          return CodeMirror.hint.anyword(cm2, options);\n        };\n      } else {\n        return function() {\n        };\n      }\n    }\n    __name(resolveAutoHints, \"resolveAutoHints\");\n    CodeMirror.registerHelper(\"hint\", \"auto\", {\n      resolve: resolveAutoHints\n    });\n    CodeMirror.registerHelper(\"hint\", \"fromList\", function(cm, options) {\n      var cur = cm.getCursor(), token = cm.getTokenAt(cur);\n      var term, from = CodeMirror.Pos(cur.line, token.start), to = cur;\n      if (token.start < cur.ch && /\\w/.test(token.string.charAt(cur.ch - token.start - 1))) {\n        term = token.string.substr(0, cur.ch - token.start);\n      } else {\n        term = \"\";\n        from = cur;\n      }\n      var found = [];\n      for (var i = 0; i < options.words.length; i++) {\n        var word = options.words[i];\n        if (word.slice(0, term.length) == term)\n          found.push(word);\n      }\n      if (found.length)\n        return { list: found, from, to };\n    });\n    CodeMirror.commands.autocomplete = CodeMirror.showHint;\n    var defaultOptions = {\n      hint: CodeMirror.hint.auto,\n      completeSingle: true,\n      alignWithWord: true,\n      closeCharacters: /[\\s()\\[\\]{};:>,]/,\n      closeOnPick: true,\n      closeOnUnfocus: true,\n      updateOnCursorActivity: true,\n      completeOnSingleClick: true,\n      container: null,\n      customKeys: null,\n      extraKeys: null,\n      paddingForScrollbar: true,\n      moveOnOverlap: true\n    };\n    CodeMirror.defineOption(\"hintOptions\", null);\n  });\n})();\nvar showHint = showHint$2.exports;\nvar showHint$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ _mergeNamespaces({\n  __proto__: null,\n  [Symbol.toStringTag]: \"Module\",\n  \"default\": showHint\n}, [showHint$2.exports]));\nexport { showHint$1 as s };\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nclass CharacterStream {\n  constructor(sourceText) {\n    this.getStartOfToken = () => this._start;\n    this.getCurrentPosition = () => this._pos;\n    this.eol = () => this._sourceText.length === this._pos;\n    this.sol = () => this._pos === 0;\n    this.peek = () => {\n      return this._sourceText.charAt(this._pos) ? this._sourceText.charAt(this._pos) : null;\n    };\n    this.next = () => {\n      const char = this._sourceText.charAt(this._pos);\n      this._pos++;\n      return char;\n    };\n    this.eat = (pattern) => {\n      const isMatched = this._testNextCharacter(pattern);\n      if (isMatched) {\n        this._start = this._pos;\n        this._pos++;\n        return this._sourceText.charAt(this._pos - 1);\n      }\n      return void 0;\n    };\n    this.eatWhile = (match) => {\n      let isMatched = this._testNextCharacter(match);\n      let didEat = false;\n      if (isMatched) {\n        didEat = isMatched;\n        this._start = this._pos;\n      }\n      while (isMatched) {\n        this._pos++;\n        isMatched = this._testNextCharacter(match);\n        didEat = true;\n      }\n      return didEat;\n    };\n    this.eatSpace = () => this.eatWhile(/[\\s\\u00a0]/);\n    this.skipToEnd = () => {\n      this._pos = this._sourceText.length;\n    };\n    this.skipTo = (position) => {\n      this._pos = position;\n    };\n    this.match = (pattern, consume = true, caseFold = false) => {\n      let token = null;\n      let match = null;\n      if (typeof pattern === \"string\") {\n        const regex = new RegExp(pattern, caseFold ? \"i\" : \"g\");\n        match = regex.test(this._sourceText.substr(this._pos, pattern.length));\n        token = pattern;\n      } else if (pattern instanceof RegExp) {\n        match = this._sourceText.slice(this._pos).match(pattern);\n        token = match === null || match === void 0 ? void 0 : match[0];\n      }\n      if (match != null) {\n        if (typeof pattern === \"string\" || match instanceof Array && this._sourceText.startsWith(match[0], this._pos)) {\n          if (consume) {\n            this._start = this._pos;\n            if (token && token.length) {\n              this._pos += token.length;\n            }\n          }\n          return match;\n        }\n      }\n      return false;\n    };\n    this.backUp = (num) => {\n      this._pos -= num;\n    };\n    this.column = () => this._pos;\n    this.indentation = () => {\n      const match = this._sourceText.match(/\\s*/);\n      let indent = 0;\n      if (match && match.length !== 0) {\n        const whiteSpaces = match[0];\n        let pos = 0;\n        while (whiteSpaces.length > pos) {\n          if (whiteSpaces.charCodeAt(pos) === 9) {\n            indent += 2;\n          } else {\n            indent++;\n          }\n          pos++;\n        }\n      }\n      return indent;\n    };\n    this.current = () => this._sourceText.slice(this._start, this._pos);\n    this._start = 0;\n    this._pos = 0;\n    this._sourceText = sourceText;\n  }\n  _testNextCharacter(pattern) {\n    const character = this._sourceText.charAt(this._pos);\n    let isMatched = false;\n    if (typeof pattern === \"string\") {\n      isMatched = character === pattern;\n    } else {\n      isMatched = pattern instanceof RegExp ? pattern.test(character) : pattern(character);\n    }\n    return isMatched;\n  }\n}\n__name(CharacterStream, \"CharacterStream\");\nclass Range {\n  constructor(start, end) {\n    this.containsPosition = (position) => {\n      if (this.start.line === position.line) {\n        return this.start.character <= position.character;\n      } else if (this.end.line === position.line) {\n        return this.end.character >= position.character;\n      } else {\n        return this.start.line <= position.line && this.end.line >= position.line;\n      }\n    };\n    this.start = start;\n    this.end = end;\n  }\n  setStart(line, character) {\n    this.start = new Position(line, character);\n  }\n  setEnd(line, character) {\n    this.end = new Position(line, character);\n  }\n}\n__name(Range, \"Range\");\nclass Position {\n  constructor(line, character) {\n    this.lessThanOrEqualTo = (position) => this.line < position.line || this.line === position.line && this.character <= position.character;\n    this.line = line;\n    this.character = character;\n  }\n  setLine(line) {\n    this.line = line;\n  }\n  setCharacter(character) {\n    this.character = character;\n  }\n}\n__name(Position, \"Position\");\nexport { CharacterStream as C, Position as P, Range as R };\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nimport { C as CodeMirror } from \"./codemirror.es.js\";\nimport \"./show-hint.es.js\";\nimport { isCompositeType, getNamedType, TypeNameMetaFieldDef as TypeNameMetaFieldDef$1, SchemaMetaFieldDef as SchemaMetaFieldDef$1, TypeMetaFieldDef as TypeMetaFieldDef$1, GraphQLEnumType, GraphQLBoolean, isInterfaceType, isAbstractType, assertAbstractType, doTypesOverlap, isInputType, DirectiveLocation, visit, parse, isListType, isNonNullType, GraphQLInterfaceType, GraphQLObjectType, Kind, GraphQLInputObjectType, getNullableType, GraphQLList } from \"graphql\";\nimport { R as RuleKinds, C as CompletionItemKind, I as InsertTextFormat } from \"./index.es.js\";\nimport { C as CharacterStream, P as Position } from \"./Range.es.js\";\nimport { o as onlineParser } from \"./onlineParser.es.js\";\nimport { S as SchemaMetaFieldDef, T as TypeMetaFieldDef, a as TypeNameMetaFieldDef } from \"./introspection.es.js\";\nimport \"react\";\nimport \"react-dom\";\nfunction getDefinitionState(tokenState) {\n  let definitionState;\n  forEachState(tokenState, (state) => {\n    switch (state.kind) {\n      case \"Query\":\n      case \"ShortQuery\":\n      case \"Mutation\":\n      case \"Subscription\":\n      case \"FragmentDefinition\":\n        definitionState = state;\n        break;\n    }\n  });\n  return definitionState;\n}\n__name(getDefinitionState, \"getDefinitionState\");\nfunction getFieldDef(schema, type, fieldName) {\n  if (fieldName === SchemaMetaFieldDef.name && schema.getQueryType() === type) {\n    return SchemaMetaFieldDef;\n  }\n  if (fieldName === TypeMetaFieldDef.name && schema.getQueryType() === type) {\n    return TypeMetaFieldDef;\n  }\n  if (fieldName === TypeNameMetaFieldDef.name && isCompositeType(type)) {\n    return TypeNameMetaFieldDef;\n  }\n  if (\"getFields\" in type) {\n    return type.getFields()[fieldName];\n  }\n  return null;\n}\n__name(getFieldDef, \"getFieldDef\");\nfunction forEachState(stack, fn) {\n  const reverseStateStack = [];\n  let state = stack;\n  while (state === null || state === void 0 ? void 0 : state.kind) {\n    reverseStateStack.push(state);\n    state = state.prevState;\n  }\n  for (let i = reverseStateStack.length - 1; i >= 0; i--) {\n    fn(reverseStateStack[i]);\n  }\n}\n__name(forEachState, \"forEachState\");\nfunction objectValues(object) {\n  const keys = Object.keys(object);\n  const len = keys.length;\n  const values = new Array(len);\n  for (let i = 0; i < len; ++i) {\n    values[i] = object[keys[i]];\n  }\n  return values;\n}\n__name(objectValues, \"objectValues\");\nfunction hintList(token, list) {\n  return filterAndSortList(list, normalizeText(token.string));\n}\n__name(hintList, \"hintList\");\nfunction filterAndSortList(list, text) {\n  if (!text) {\n    return filterNonEmpty(list, (entry) => !entry.isDeprecated);\n  }\n  const byProximity = list.map((entry) => ({\n    proximity: getProximity(normalizeText(entry.label), text),\n    entry\n  }));\n  return filterNonEmpty(filterNonEmpty(byProximity, (pair) => pair.proximity <= 2), (pair) => !pair.entry.isDeprecated).sort((a, b) => (a.entry.isDeprecated ? 1 : 0) - (b.entry.isDeprecated ? 1 : 0) || a.proximity - b.proximity || a.entry.label.length - b.entry.label.length).map((pair) => pair.entry);\n}\n__name(filterAndSortList, \"filterAndSortList\");\nfunction filterNonEmpty(array, predicate) {\n  const filtered = array.filter(predicate);\n  return filtered.length === 0 ? array : filtered;\n}\n__name(filterNonEmpty, \"filterNonEmpty\");\nfunction normalizeText(text) {\n  return text.toLowerCase().replace(/\\W/g, \"\");\n}\n__name(normalizeText, \"normalizeText\");\nfunction getProximity(suggestion, text) {\n  let proximity = lexicalDistance(text, suggestion);\n  if (suggestion.length > text.length) {\n    proximity -= suggestion.length - text.length - 1;\n    proximity += suggestion.indexOf(text) === 0 ? 0 : 0.5;\n  }\n  return proximity;\n}\n__name(getProximity, \"getProximity\");\nfunction lexicalDistance(a, b) {\n  let i;\n  let j;\n  const d = [];\n  const aLength = a.length;\n  const bLength = b.length;\n  for (i = 0; i <= aLength; i++) {\n    d[i] = [i];\n  }\n  for (j = 1; j <= bLength; j++) {\n    d[0][j] = j;\n  }\n  for (i = 1; i <= aLength; i++) {\n    for (j = 1; j <= bLength; j++) {\n      const cost = a[i - 1] === b[j - 1] ? 0 : 1;\n      d[i][j] = Math.min(d[i - 1][j] + 1, d[i][j - 1] + 1, d[i - 1][j - 1] + cost);\n      if (i > 1 && j > 1 && a[i - 1] === b[j - 2] && a[i - 2] === b[j - 1]) {\n        d[i][j] = Math.min(d[i][j], d[i - 2][j - 2] + cost);\n      }\n    }\n  }\n  return d[aLength][bLength];\n}\n__name(lexicalDistance, \"lexicalDistance\");\nconst SuggestionCommand = {\n  command: \"editor.action.triggerSuggest\",\n  title: \"Suggestions\"\n};\nconst collectFragmentDefs = /* @__PURE__ */ __name((op) => {\n  const externalFragments = [];\n  if (op) {\n    try {\n      visit(parse(op), {\n        FragmentDefinition(def) {\n          externalFragments.push(def);\n        }\n      });\n    } catch (_a) {\n      return [];\n    }\n  }\n  return externalFragments;\n}, \"collectFragmentDefs\");\nfunction getAutocompleteSuggestions(schema, queryText, cursor, contextToken, fragmentDefs, options) {\n  var _a;\n  const opts = Object.assign(Object.assign({}, options), { schema });\n  const token = contextToken || getTokenAtPosition(queryText, cursor);\n  const state = token.state.kind === \"Invalid\" ? token.state.prevState : token.state;\n  if (!state) {\n    return [];\n  }\n  const kind = state.kind;\n  const step = state.step;\n  const typeInfo = getTypeInfo(schema, token.state);\n  if (kind === RuleKinds.DOCUMENT) {\n    return hintList(token, [\n      { label: \"query\", kind: CompletionItemKind.Function },\n      { label: \"mutation\", kind: CompletionItemKind.Function },\n      { label: \"subscription\", kind: CompletionItemKind.Function },\n      { label: \"fragment\", kind: CompletionItemKind.Function },\n      { label: \"{\", kind: CompletionItemKind.Constructor }\n    ]);\n  }\n  if (kind === RuleKinds.IMPLEMENTS || kind === RuleKinds.NAMED_TYPE && ((_a = state.prevState) === null || _a === void 0 ? void 0 : _a.kind) === RuleKinds.IMPLEMENTS) {\n    return getSuggestionsForImplements(token, state, schema, queryText, typeInfo);\n  }\n  if (kind === RuleKinds.SELECTION_SET || kind === RuleKinds.FIELD || kind === RuleKinds.ALIASED_FIELD) {\n    return getSuggestionsForFieldNames(token, typeInfo, opts);\n  }\n  if (kind === RuleKinds.ARGUMENTS || kind === RuleKinds.ARGUMENT && step === 0) {\n    const argDefs = typeInfo.argDefs;\n    if (argDefs) {\n      return hintList(token, argDefs.map((argDef) => {\n        var _a2;\n        return {\n          label: argDef.name,\n          insertText: argDef.name + \": \",\n          command: SuggestionCommand,\n          detail: String(argDef.type),\n          documentation: (_a2 = argDef.description) !== null && _a2 !== void 0 ? _a2 : void 0,\n          kind: CompletionItemKind.Variable,\n          type: argDef.type\n        };\n      }));\n    }\n  }\n  if (kind === RuleKinds.OBJECT_VALUE || kind === RuleKinds.OBJECT_FIELD && step === 0) {\n    if (typeInfo.objectFieldDefs) {\n      const objectFields = objectValues(typeInfo.objectFieldDefs);\n      const completionKind = kind === RuleKinds.OBJECT_VALUE ? CompletionItemKind.Value : CompletionItemKind.Field;\n      return hintList(token, objectFields.map((field) => {\n        var _a2;\n        return {\n          label: field.name,\n          detail: String(field.type),\n          documentation: (_a2 = field.description) !== null && _a2 !== void 0 ? _a2 : void 0,\n          kind: completionKind,\n          type: field.type\n        };\n      }));\n    }\n  }\n  if (kind === RuleKinds.ENUM_VALUE || kind === RuleKinds.LIST_VALUE && step === 1 || kind === RuleKinds.OBJECT_FIELD && step === 2 || kind === RuleKinds.ARGUMENT && step === 2) {\n    return getSuggestionsForInputValues(token, typeInfo, queryText, schema);\n  }\n  if (kind === RuleKinds.VARIABLE && step === 1) {\n    const namedInputType = getNamedType(typeInfo.inputType);\n    const variableDefinitions = getVariableCompletions(queryText, schema, token);\n    return hintList(token, variableDefinitions.filter((v) => v.detail === (namedInputType === null || namedInputType === void 0 ? void 0 : namedInputType.name)));\n  }\n  if (kind === RuleKinds.TYPE_CONDITION && step === 1 || kind === RuleKinds.NAMED_TYPE && state.prevState != null && state.prevState.kind === RuleKinds.TYPE_CONDITION) {\n    return getSuggestionsForFragmentTypeConditions(token, typeInfo, schema);\n  }\n  if (kind === RuleKinds.FRAGMENT_SPREAD && step === 1) {\n    return getSuggestionsForFragmentSpread(token, typeInfo, schema, queryText, Array.isArray(fragmentDefs) ? fragmentDefs : collectFragmentDefs(fragmentDefs));\n  }\n  if (kind === RuleKinds.VARIABLE_DEFINITION && step === 2 || kind === RuleKinds.LIST_TYPE && step === 1 || kind === RuleKinds.NAMED_TYPE && state.prevState && (state.prevState.kind === RuleKinds.VARIABLE_DEFINITION || state.prevState.kind === RuleKinds.LIST_TYPE || state.prevState.kind === RuleKinds.NON_NULL_TYPE)) {\n    return getSuggestionsForVariableDefinition(token, schema);\n  }\n  if (kind === RuleKinds.DIRECTIVE) {\n    return getSuggestionsForDirective(token, state, schema);\n  }\n  return [];\n}\n__name(getAutocompleteSuggestions, \"getAutocompleteSuggestions\");\nconst insertSuffix = ` {\n  $1\n}`;\nconst getInsertText = /* @__PURE__ */ __name((field) => {\n  const type = field.type;\n  if (isCompositeType(type)) {\n    return insertSuffix;\n  }\n  if (isListType(type) && isCompositeType(type.ofType)) {\n    return insertSuffix;\n  }\n  if (isNonNullType(type)) {\n    if (isCompositeType(type.ofType)) {\n      return insertSuffix;\n    }\n    if (isListType(type.ofType) && isCompositeType(type.ofType.ofType)) {\n      return insertSuffix;\n    }\n  }\n  return null;\n}, \"getInsertText\");\nfunction getSuggestionsForFieldNames(token, typeInfo, options) {\n  var _a;\n  if (typeInfo.parentType) {\n    const parentType = typeInfo.parentType;\n    let fields = [];\n    if (\"getFields\" in parentType) {\n      fields = objectValues(parentType.getFields());\n    }\n    if (isCompositeType(parentType)) {\n      fields.push(TypeNameMetaFieldDef$1);\n    }\n    if (parentType === ((_a = options === null || options === void 0 ? void 0 : options.schema) === null || _a === void 0 ? void 0 : _a.getQueryType())) {\n      fields.push(SchemaMetaFieldDef$1, TypeMetaFieldDef$1);\n    }\n    return hintList(token, fields.map((field, index) => {\n      var _a2;\n      const suggestion = {\n        sortText: String(index) + field.name,\n        label: field.name,\n        detail: String(field.type),\n        documentation: (_a2 = field.description) !== null && _a2 !== void 0 ? _a2 : void 0,\n        deprecated: Boolean(field.deprecationReason),\n        isDeprecated: Boolean(field.deprecationReason),\n        deprecationReason: field.deprecationReason,\n        kind: CompletionItemKind.Field,\n        type: field.type\n      };\n      const insertText = getInsertText(field);\n      if (insertText) {\n        suggestion.insertText = field.name + insertText;\n        suggestion.insertTextFormat = InsertTextFormat.Snippet;\n        suggestion.command = SuggestionCommand;\n      }\n      return suggestion;\n    }));\n  }\n  return [];\n}\n__name(getSuggestionsForFieldNames, \"getSuggestionsForFieldNames\");\nfunction getSuggestionsForInputValues(token, typeInfo, queryText, schema) {\n  const namedInputType = getNamedType(typeInfo.inputType);\n  const queryVariables = getVariableCompletions(queryText, schema, token).filter((v) => v.detail === namedInputType.name);\n  if (namedInputType instanceof GraphQLEnumType) {\n    const values = namedInputType.getValues();\n    return hintList(token, values.map((value) => {\n      var _a;\n      return {\n        label: value.name,\n        detail: String(namedInputType),\n        documentation: (_a = value.description) !== null && _a !== void 0 ? _a : void 0,\n        deprecated: Boolean(value.deprecationReason),\n        isDeprecated: Boolean(value.deprecationReason),\n        deprecationReason: value.deprecationReason,\n        kind: CompletionItemKind.EnumMember,\n        type: namedInputType\n      };\n    }).concat(queryVariables));\n  } else if (namedInputType === GraphQLBoolean) {\n    return hintList(token, queryVariables.concat([\n      {\n        label: \"true\",\n        detail: String(GraphQLBoolean),\n        documentation: \"Not false.\",\n        kind: CompletionItemKind.Variable,\n        type: GraphQLBoolean\n      },\n      {\n        label: \"false\",\n        detail: String(GraphQLBoolean),\n        documentation: \"Not true.\",\n        kind: CompletionItemKind.Variable,\n        type: GraphQLBoolean\n      }\n    ]));\n  }\n  return queryVariables;\n}\n__name(getSuggestionsForInputValues, \"getSuggestionsForInputValues\");\nfunction getSuggestionsForImplements(token, tokenState, schema, documentText, typeInfo) {\n  if (tokenState.needsSeparator) {\n    return [];\n  }\n  const typeMap = schema.getTypeMap();\n  const schemaInterfaces = objectValues(typeMap).filter(isInterfaceType);\n  const schemaInterfaceNames = schemaInterfaces.map(({ name }) => name);\n  const inlineInterfaces = /* @__PURE__ */ new Set();\n  runOnlineParser(documentText, (_, state) => {\n    var _a, _b, _c, _d, _e;\n    if (state.name) {\n      if (state.kind === RuleKinds.INTERFACE_DEF && !schemaInterfaceNames.includes(state.name)) {\n        inlineInterfaces.add(state.name);\n      }\n      if (state.kind === RuleKinds.NAMED_TYPE && ((_a = state.prevState) === null || _a === void 0 ? void 0 : _a.kind) === RuleKinds.IMPLEMENTS) {\n        if (typeInfo.interfaceDef) {\n          const existingType = (_b = typeInfo.interfaceDef) === null || _b === void 0 ? void 0 : _b.getInterfaces().find(({ name }) => name === state.name);\n          if (existingType) {\n            return;\n          }\n          const type = schema.getType(state.name);\n          const interfaceConfig = (_c = typeInfo.interfaceDef) === null || _c === void 0 ? void 0 : _c.toConfig();\n          typeInfo.interfaceDef = new GraphQLInterfaceType(Object.assign(Object.assign({}, interfaceConfig), { interfaces: [\n            ...interfaceConfig.interfaces,\n            type || new GraphQLInterfaceType({ name: state.name, fields: {} })\n          ] }));\n        } else if (typeInfo.objectTypeDef) {\n          const existingType = (_d = typeInfo.objectTypeDef) === null || _d === void 0 ? void 0 : _d.getInterfaces().find(({ name }) => name === state.name);\n          if (existingType) {\n            return;\n          }\n          const type = schema.getType(state.name);\n          const objectTypeConfig = (_e = typeInfo.objectTypeDef) === null || _e === void 0 ? void 0 : _e.toConfig();\n          typeInfo.objectTypeDef = new GraphQLObjectType(Object.assign(Object.assign({}, objectTypeConfig), { interfaces: [\n            ...objectTypeConfig.interfaces,\n            type || new GraphQLInterfaceType({ name: state.name, fields: {} })\n          ] }));\n        }\n      }\n    }\n  });\n  const currentTypeToExtend = typeInfo.interfaceDef || typeInfo.objectTypeDef;\n  const siblingInterfaces = (currentTypeToExtend === null || currentTypeToExtend === void 0 ? void 0 : currentTypeToExtend.getInterfaces()) || [];\n  const siblingInterfaceNames = siblingInterfaces.map(({ name }) => name);\n  const possibleInterfaces = schemaInterfaces.concat([...inlineInterfaces].map((name) => ({ name }))).filter(({ name }) => name !== (currentTypeToExtend === null || currentTypeToExtend === void 0 ? void 0 : currentTypeToExtend.name) && !siblingInterfaceNames.includes(name));\n  return hintList(token, possibleInterfaces.map((type) => {\n    const result = {\n      label: type.name,\n      kind: CompletionItemKind.Interface,\n      type\n    };\n    if (type === null || type === void 0 ? void 0 : type.description) {\n      result.documentation = type.description;\n    }\n    return result;\n  }));\n}\n__name(getSuggestionsForImplements, \"getSuggestionsForImplements\");\nfunction getSuggestionsForFragmentTypeConditions(token, typeInfo, schema, _kind) {\n  let possibleTypes;\n  if (typeInfo.parentType) {\n    if (isAbstractType(typeInfo.parentType)) {\n      const abstractType = assertAbstractType(typeInfo.parentType);\n      const possibleObjTypes = schema.getPossibleTypes(abstractType);\n      const possibleIfaceMap = /* @__PURE__ */ Object.create(null);\n      possibleObjTypes.forEach((type) => {\n        type.getInterfaces().forEach((iface) => {\n          possibleIfaceMap[iface.name] = iface;\n        });\n      });\n      possibleTypes = possibleObjTypes.concat(objectValues(possibleIfaceMap));\n    } else {\n      possibleTypes = [typeInfo.parentType];\n    }\n  } else {\n    const typeMap = schema.getTypeMap();\n    possibleTypes = objectValues(typeMap).filter(isCompositeType);\n  }\n  return hintList(token, possibleTypes.map((type) => {\n    const namedType = getNamedType(type);\n    return {\n      label: String(type),\n      documentation: (namedType === null || namedType === void 0 ? void 0 : namedType.description) || \"\",\n      kind: CompletionItemKind.Field\n    };\n  }));\n}\n__name(getSuggestionsForFragmentTypeConditions, \"getSuggestionsForFragmentTypeConditions\");\nfunction getSuggestionsForFragmentSpread(token, typeInfo, schema, queryText, fragmentDefs) {\n  if (!queryText) {\n    return [];\n  }\n  const typeMap = schema.getTypeMap();\n  const defState = getDefinitionState(token.state);\n  const fragments = getFragmentDefinitions(queryText);\n  if (fragmentDefs && fragmentDefs.length > 0) {\n    fragments.push(...fragmentDefs);\n  }\n  const relevantFrags = fragments.filter((frag) => typeMap[frag.typeCondition.name.value] && !(defState && defState.kind === RuleKinds.FRAGMENT_DEFINITION && defState.name === frag.name.value) && isCompositeType(typeInfo.parentType) && isCompositeType(typeMap[frag.typeCondition.name.value]) && doTypesOverlap(schema, typeInfo.parentType, typeMap[frag.typeCondition.name.value]));\n  return hintList(token, relevantFrags.map((frag) => ({\n    label: frag.name.value,\n    detail: String(typeMap[frag.typeCondition.name.value]),\n    documentation: `fragment ${frag.name.value} on ${frag.typeCondition.name.value}`,\n    kind: CompletionItemKind.Field,\n    type: typeMap[frag.typeCondition.name.value]\n  })));\n}\n__name(getSuggestionsForFragmentSpread, \"getSuggestionsForFragmentSpread\");\nconst getParentDefinition = /* @__PURE__ */ __name((state, kind) => {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n  if (((_a = state.prevState) === null || _a === void 0 ? void 0 : _a.kind) === kind) {\n    return state.prevState;\n  }\n  if (((_c = (_b = state.prevState) === null || _b === void 0 ? void 0 : _b.prevState) === null || _c === void 0 ? void 0 : _c.kind) === kind) {\n    return state.prevState.prevState;\n  }\n  if (((_f = (_e = (_d = state.prevState) === null || _d === void 0 ? void 0 : _d.prevState) === null || _e === void 0 ? void 0 : _e.prevState) === null || _f === void 0 ? void 0 : _f.kind) === kind) {\n    return state.prevState.prevState.prevState;\n  }\n  if (((_k = (_j = (_h = (_g = state.prevState) === null || _g === void 0 ? void 0 : _g.prevState) === null || _h === void 0 ? void 0 : _h.prevState) === null || _j === void 0 ? void 0 : _j.prevState) === null || _k === void 0 ? void 0 : _k.kind) === kind) {\n    return state.prevState.prevState.prevState.prevState;\n  }\n}, \"getParentDefinition\");\nfunction getVariableCompletions(queryText, schema, token) {\n  let variableName = null;\n  let variableType;\n  const definitions = /* @__PURE__ */ Object.create({});\n  runOnlineParser(queryText, (_, state) => {\n    if ((state === null || state === void 0 ? void 0 : state.kind) === RuleKinds.VARIABLE && state.name) {\n      variableName = state.name;\n    }\n    if ((state === null || state === void 0 ? void 0 : state.kind) === RuleKinds.NAMED_TYPE && variableName) {\n      const parentDefinition = getParentDefinition(state, RuleKinds.TYPE);\n      if (parentDefinition === null || parentDefinition === void 0 ? void 0 : parentDefinition.type) {\n        variableType = schema.getType(parentDefinition === null || parentDefinition === void 0 ? void 0 : parentDefinition.type);\n      }\n    }\n    if (variableName && variableType) {\n      if (!definitions[variableName]) {\n        definitions[variableName] = {\n          detail: variableType.toString(),\n          insertText: token.string === \"$\" ? variableName : \"$\" + variableName,\n          label: variableName,\n          type: variableType,\n          kind: CompletionItemKind.Variable\n        };\n        variableName = null;\n        variableType = null;\n      }\n    }\n  });\n  return objectValues(definitions);\n}\n__name(getVariableCompletions, \"getVariableCompletions\");\nfunction getFragmentDefinitions(queryText) {\n  const fragmentDefs = [];\n  runOnlineParser(queryText, (_, state) => {\n    if (state.kind === RuleKinds.FRAGMENT_DEFINITION && state.name && state.type) {\n      fragmentDefs.push({\n        kind: RuleKinds.FRAGMENT_DEFINITION,\n        name: {\n          kind: Kind.NAME,\n          value: state.name\n        },\n        selectionSet: {\n          kind: RuleKinds.SELECTION_SET,\n          selections: []\n        },\n        typeCondition: {\n          kind: RuleKinds.NAMED_TYPE,\n          name: {\n            kind: Kind.NAME,\n            value: state.type\n          }\n        }\n      });\n    }\n  });\n  return fragmentDefs;\n}\n__name(getFragmentDefinitions, \"getFragmentDefinitions\");\nfunction getSuggestionsForVariableDefinition(token, schema, _kind) {\n  const inputTypeMap = schema.getTypeMap();\n  const inputTypes = objectValues(inputTypeMap).filter(isInputType);\n  return hintList(token, inputTypes.map((type) => ({\n    label: type.name,\n    documentation: type.description,\n    kind: CompletionItemKind.Variable\n  })));\n}\n__name(getSuggestionsForVariableDefinition, \"getSuggestionsForVariableDefinition\");\nfunction getSuggestionsForDirective(token, state, schema, _kind) {\n  var _a;\n  if ((_a = state.prevState) === null || _a === void 0 ? void 0 : _a.kind) {\n    const directives = schema.getDirectives().filter((directive) => canUseDirective(state.prevState, directive));\n    return hintList(token, directives.map((directive) => ({\n      label: directive.name,\n      documentation: directive.description || \"\",\n      kind: CompletionItemKind.Function\n    })));\n  }\n  return [];\n}\n__name(getSuggestionsForDirective, \"getSuggestionsForDirective\");\nfunction getTokenAtPosition(queryText, cursor) {\n  let styleAtCursor = null;\n  let stateAtCursor = null;\n  let stringAtCursor = null;\n  const token = runOnlineParser(queryText, (stream, state, style, index) => {\n    if (index === cursor.line) {\n      if (stream.getCurrentPosition() >= cursor.character) {\n        styleAtCursor = style;\n        stateAtCursor = Object.assign({}, state);\n        stringAtCursor = stream.current();\n        return \"BREAK\";\n      }\n    }\n  });\n  return {\n    start: token.start,\n    end: token.end,\n    string: stringAtCursor || token.string,\n    state: stateAtCursor || token.state,\n    style: styleAtCursor || token.style\n  };\n}\n__name(getTokenAtPosition, \"getTokenAtPosition\");\nfunction runOnlineParser(queryText, callback) {\n  const lines = queryText.split(\"\\n\");\n  const parser = onlineParser();\n  let state = parser.startState();\n  let style = \"\";\n  let stream = new CharacterStream(\"\");\n  for (let i = 0; i < lines.length; i++) {\n    stream = new CharacterStream(lines[i]);\n    while (!stream.eol()) {\n      style = parser.token(stream, state);\n      const code = callback(stream, state, style, i);\n      if (code === \"BREAK\") {\n        break;\n      }\n    }\n    callback(stream, state, style, i);\n    if (!state.kind) {\n      state = parser.startState();\n    }\n  }\n  return {\n    start: stream.getStartOfToken(),\n    end: stream.getCurrentPosition(),\n    string: stream.current(),\n    state,\n    style\n  };\n}\n__name(runOnlineParser, \"runOnlineParser\");\nfunction canUseDirective(state, directive) {\n  var _a;\n  if (!state || !state.kind) {\n    return false;\n  }\n  const kind = state.kind;\n  const locations = directive.locations;\n  switch (kind) {\n    case RuleKinds.QUERY:\n      return locations.indexOf(DirectiveLocation.QUERY) !== -1;\n    case RuleKinds.MUTATION:\n      return locations.indexOf(DirectiveLocation.MUTATION) !== -1;\n    case RuleKinds.SUBSCRIPTION:\n      return locations.indexOf(DirectiveLocation.SUBSCRIPTION) !== -1;\n    case RuleKinds.FIELD:\n    case RuleKinds.ALIASED_FIELD:\n      return locations.indexOf(DirectiveLocation.FIELD) !== -1;\n    case RuleKinds.FRAGMENT_DEFINITION:\n      return locations.indexOf(DirectiveLocation.FRAGMENT_DEFINITION) !== -1;\n    case RuleKinds.FRAGMENT_SPREAD:\n      return locations.indexOf(DirectiveLocation.FRAGMENT_SPREAD) !== -1;\n    case RuleKinds.INLINE_FRAGMENT:\n      return locations.indexOf(DirectiveLocation.INLINE_FRAGMENT) !== -1;\n    case RuleKinds.SCHEMA_DEF:\n      return locations.indexOf(DirectiveLocation.SCHEMA) !== -1;\n    case RuleKinds.SCALAR_DEF:\n      return locations.indexOf(DirectiveLocation.SCALAR) !== -1;\n    case RuleKinds.OBJECT_TYPE_DEF:\n      return locations.indexOf(DirectiveLocation.OBJECT) !== -1;\n    case RuleKinds.FIELD_DEF:\n      return locations.indexOf(DirectiveLocation.FIELD_DEFINITION) !== -1;\n    case RuleKinds.INTERFACE_DEF:\n      return locations.indexOf(DirectiveLocation.INTERFACE) !== -1;\n    case RuleKinds.UNION_DEF:\n      return locations.indexOf(DirectiveLocation.UNION) !== -1;\n    case RuleKinds.ENUM_DEF:\n      return locations.indexOf(DirectiveLocation.ENUM) !== -1;\n    case RuleKinds.ENUM_VALUE:\n      return locations.indexOf(DirectiveLocation.ENUM_VALUE) !== -1;\n    case RuleKinds.INPUT_DEF:\n      return locations.indexOf(DirectiveLocation.INPUT_OBJECT) !== -1;\n    case RuleKinds.INPUT_VALUE_DEF:\n      const prevStateKind = (_a = state.prevState) === null || _a === void 0 ? void 0 : _a.kind;\n      switch (prevStateKind) {\n        case RuleKinds.ARGUMENTS_DEF:\n          return locations.indexOf(DirectiveLocation.ARGUMENT_DEFINITION) !== -1;\n        case RuleKinds.INPUT_DEF:\n          return locations.indexOf(DirectiveLocation.INPUT_FIELD_DEFINITION) !== -1;\n      }\n  }\n  return false;\n}\n__name(canUseDirective, \"canUseDirective\");\nfunction getTypeInfo(schema, tokenState) {\n  let argDef;\n  let argDefs;\n  let directiveDef;\n  let enumValue;\n  let fieldDef;\n  let inputType;\n  let objectTypeDef;\n  let objectFieldDefs;\n  let parentType;\n  let type;\n  let interfaceDef;\n  forEachState(tokenState, (state) => {\n    var _a;\n    switch (state.kind) {\n      case RuleKinds.QUERY:\n      case \"ShortQuery\":\n        type = schema.getQueryType();\n        break;\n      case RuleKinds.MUTATION:\n        type = schema.getMutationType();\n        break;\n      case RuleKinds.SUBSCRIPTION:\n        type = schema.getSubscriptionType();\n        break;\n      case RuleKinds.INLINE_FRAGMENT:\n      case RuleKinds.FRAGMENT_DEFINITION:\n        if (state.type) {\n          type = schema.getType(state.type);\n        }\n        break;\n      case RuleKinds.FIELD:\n      case RuleKinds.ALIASED_FIELD: {\n        if (!type || !state.name) {\n          fieldDef = null;\n        } else {\n          fieldDef = parentType ? getFieldDef(schema, parentType, state.name) : null;\n          type = fieldDef ? fieldDef.type : null;\n        }\n        break;\n      }\n      case RuleKinds.SELECTION_SET:\n        parentType = getNamedType(type);\n        break;\n      case RuleKinds.DIRECTIVE:\n        directiveDef = state.name ? schema.getDirective(state.name) : null;\n        break;\n      case RuleKinds.INTERFACE_DEF:\n        if (state.name) {\n          objectTypeDef = null;\n          interfaceDef = new GraphQLInterfaceType({\n            name: state.name,\n            interfaces: [],\n            fields: {}\n          });\n        }\n        break;\n      case RuleKinds.OBJECT_TYPE_DEF:\n        if (state.name) {\n          interfaceDef = null;\n          objectTypeDef = new GraphQLObjectType({\n            name: state.name,\n            interfaces: [],\n            fields: {}\n          });\n        }\n        break;\n      case RuleKinds.ARGUMENTS: {\n        if (!state.prevState) {\n          argDefs = null;\n        } else {\n          switch (state.prevState.kind) {\n            case RuleKinds.FIELD:\n              argDefs = fieldDef && fieldDef.args;\n              break;\n            case RuleKinds.DIRECTIVE:\n              argDefs = directiveDef && directiveDef.args;\n              break;\n            case RuleKinds.ALIASED_FIELD: {\n              const name = (_a = state.prevState) === null || _a === void 0 ? void 0 : _a.name;\n              if (!name) {\n                argDefs = null;\n                break;\n              }\n              const field = parentType ? getFieldDef(schema, parentType, name) : null;\n              if (!field) {\n                argDefs = null;\n                break;\n              }\n              argDefs = field.args;\n              break;\n            }\n            default:\n              argDefs = null;\n              break;\n          }\n        }\n        break;\n      }\n      case RuleKinds.ARGUMENT:\n        if (argDefs) {\n          for (let i = 0; i < argDefs.length; i++) {\n            if (argDefs[i].name === state.name) {\n              argDef = argDefs[i];\n              break;\n            }\n          }\n        }\n        inputType = argDef === null || argDef === void 0 ? void 0 : argDef.type;\n        break;\n      case RuleKinds.ENUM_VALUE:\n        const enumType = getNamedType(inputType);\n        enumValue = enumType instanceof GraphQLEnumType ? enumType.getValues().find((val) => val.value === state.name) : null;\n        break;\n      case RuleKinds.LIST_VALUE:\n        const nullableType = getNullableType(inputType);\n        inputType = nullableType instanceof GraphQLList ? nullableType.ofType : null;\n        break;\n      case RuleKinds.OBJECT_VALUE:\n        const objectType = getNamedType(inputType);\n        objectFieldDefs = objectType instanceof GraphQLInputObjectType ? objectType.getFields() : null;\n        break;\n      case RuleKinds.OBJECT_FIELD:\n        const objectField = state.name && objectFieldDefs ? objectFieldDefs[state.name] : null;\n        inputType = objectField === null || objectField === void 0 ? void 0 : objectField.type;\n        break;\n      case RuleKinds.NAMED_TYPE:\n        if (state.name) {\n          type = schema.getType(state.name);\n        }\n        break;\n    }\n  });\n  return {\n    argDef,\n    argDefs,\n    directiveDef,\n    enumValue,\n    fieldDef,\n    inputType,\n    objectFieldDefs,\n    parentType,\n    type,\n    interfaceDef,\n    objectTypeDef\n  };\n}\n__name(getTypeInfo, \"getTypeInfo\");\nCodeMirror.registerHelper(\"hint\", \"graphql\", (editor, options) => {\n  const schema = options.schema;\n  if (!schema) {\n    return;\n  }\n  const cur = editor.getCursor();\n  const token = editor.getTokenAt(cur);\n  const tokenStart = token.type !== null && /\"|\\w/.test(token.string[0]) ? token.start : token.end;\n  const position = new Position(cur.line, tokenStart);\n  const rawResults = getAutocompleteSuggestions(schema, editor.getValue(), position, token, options.externalFragments);\n  const results = {\n    list: rawResults.map((item) => ({\n      text: item.label,\n      type: item.type,\n      description: item.documentation,\n      isDeprecated: item.isDeprecated,\n      deprecationReason: item.deprecationReason\n    })),\n    from: { line: cur.line, ch: tokenStart },\n    to: { line: cur.line, ch: token.end }\n  };\n  if ((results === null || results === void 0 ? void 0 : results.list) && results.list.length > 0) {\n    results.from = CodeMirror.Pos(results.from.line, results.from.ch);\n    results.to = CodeMirror.Pos(results.to.line, results.to.ch);\n    CodeMirror.signal(editor, \"hasCompletion\", editor, results, token);\n  }\n  return results;\n});\n"],"sourceRoot":""}