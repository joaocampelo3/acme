(this.webpackJsonp=this.webpackJsonp||[]).push([[26,22],{2103:function(e,t,a){"use strict";var n=a(1214),i=a(1216);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(2)),l=(0,n(a(1217)).default)(r.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-4.65 4.65c-.2.2-.51.2-.71 0L7 13h3V9h4v4h3z"}),"CloudDownloadRounded");t.default=l},2124:function(e,t,a){"use strict";var n=a(2),i=a.n(n),r=a(22),l=a.n(r),s=a(1213),o=a(1655),c=a(4991),m=a(1678),d=a(4978),p=a(1653),u=a(361),g=a(352),h=a(25),f=a.n(h),E=a(2188),b=a(2632),y=a(5007),v=a(5008),C=a(1462),w=a(1239);a(1225);const x=["node","inline","className","children"];function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}const T=Object(n.lazy)(()=>Promise.all([a.e(11),a.e(33)]).then(a.bind(null,2187)));function S(e){const{classes:t,doc:a,apiId:r,intl:l}=e,{api:s}=Object(n.useContext)(w.a),[u,h]=Object(n.useState)(""),[S,M]=Object(n.useState)(!1),k=new g.a,{skipHtml:D}=f.a.app.markdown,R=f.a.app.markdown.syntaxHighlighterProps||{},{syntaxHighlighterDarkTheme:N}=f.a.app.markdown;Object(n.useEffect)(()=>{if("MARKDOWN"!==a.sourceType&&"INLINE"!==a.sourceType||k.getInlineContentOfDocument(r,a.documentId).then(e=>{let{text:t}=e;Object.keys(s).forEach(e=>{const a=new RegExp("___"+e+"___","g");t=t.replace(a,s[e])}),h(t)}).catch(e=>{}),"FILE"===a.sourceType){k.getFileForDocument(r,a.documentId).then(()=>{M(!0)}).catch(()=>{M(!1)})}},[e.doc]);return i.a.createElement(i.a.Fragment,null,a.summary&&"_overview"!==a.otherTypeName&&i.a.createElement(o.a,{variant:"body1",className:t.docSummary},a.summary),"MARKDOWN"===a.sourceType&&i.a.createElement("div",{className:"markdown-content-wrapper"},i.a.createElement(n.Suspense,{fallback:i.a.createElement(d.a,null)},i.a.createElement(T,{skipHtml:D,children:u,remarkPlugins:[E.a],components:{code(e){let{node:t,inline:a,className:n,children:r}=e,l=A(e,x);const s=/language-(\w+)/.exec(n||"");return!a&&s?i.a.createElement(b.a,O({children:String(r).replace(/\n$/,""),style:N?y.a:v.a,language:s[1],PreTag:"div"},l,R)):i.a.createElement("code",O({className:n},l),r)}}}))),"INLINE"===a.sourceType&&i.a.createElement(C.a,{html:u}),"URL"===a.sourceType&&i.a.createElement("a",{className:t.displayURL,href:a.sourceUrl,target:"_blank",rel:"noreferrer"},a.sourceUrl,i.a.createElement(c.a,{className:t.displayURLLink},"open_in_new")),"FILE"===a.sourceType&&i.a.createElement(m.a,{variant:"contained",color:"default",className:t.button,disabled:!S,onClick:()=>{k.getFileForDocument(r,a.documentId).then(e=>{(e=>{let t="";const a=e.headers["content-disposition"];if(a&&-1!==a.indexOf("attachment")){const e=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(a);null!=e&&e[1]&&(t=e[1].replace(/['"]/g,""))}const n=e.headers["content-type"],i=new Blob([e.data],{type:n});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(i,t);else{const e=window.URL||window.webkitURL,a=e.createObjectURL(i);if(t){const e=document.createElement("a");void 0===e.download?window.location=a:(e.href=a,e.download=t,document.body.appendChild(e),e.click())}else window.location=a;setTimeout(()=>{e.revokeObjectURL(a)},100)}})(e,document)}).catch(e=>{0})}},i.a.createElement(p.a,{id:"Apis.Details.Documents.View.btn.download",defaultMessage:"Download"}),i.a.createElement(c.a,null,"arrow_downward")),"FILE"===a.sourceType&&!S&&i.a.createElement(o.a,{className:t.fileAvailability},i.a.createElement(p.a,{id:"Apis.Details.Documents.View.file.availability",defaultMessage:"No file available"})))}S.propTypes={classes:l.a.shape({}).isRequired,doc:l.a.shape({}).isRequired,apiId:l.a.string.isRequired,intl:l.a.shape({formatMessage:l.a.func}).isRequired},t.a=Object(u.c)(Object(s.a)(e=>({root:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},docTitle:{fontWeight:100,fontSize:50,color:e.palette.grey[500]},docBadge:{padding:e.spacing(1),background:e.palette.primary.main,position:"absolute",top:0,marginTop:-22,color:e.palette.getContrastText(e.palette.primary.main)},button:{padding:e.spacing(2),marginTop:e.spacing(2)},displayURL:{padding:e.spacing(2),marginTop:e.spacing(2),background:e.palette.grey[200],color:e.palette.getContrastText(e.palette.grey[200]),display:"flex"},displayURLLink:{paddingLeft:e.spacing(2)},docSummary:{marginTop:e.spacing(2),color:e.palette.text.primary},fileAvailability:{marginTop:e.spacing(1),marginLeft:e.spacing(.8)}}))(S))},2126:function(e,t,a){"use strict";var n=a(1214),i=a(1216);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(2)),l=(0,n(a(1217)).default)(r.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");t.default=l},2127:function(e,t,a){"use strict";var n=a(1216),i=a(1214);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(a(1366)),l=i(a(1272)),s=n(a(2)),o=(i(a(22)),i(a(1212))),c=i(a(1394)),m=(i(a(2128)),i(a(2129)),[0,1,2,3,4,5,6,7,8,9,10]),d=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=parseFloat(e);return"".concat(a/t).concat(String(e).replace(String(a),"")||"px")}var u=function(e){return(0,l.default)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var a={};return m.forEach((function(n){var i=e.spacing(n);0!==i&&(a["spacing-".concat(t,"-").concat(n)]={margin:"-".concat(p(i,2)),width:"calc(100% + ".concat(p(i),")"),"& > $item":{padding:p(i,2)}})})),a}(e,"xs"),e.breakpoints.keys.reduce((function(t,a){return function(e,t,a){var n={};d.forEach((function(e){var t="grid-".concat(a,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");n[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else n[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else n[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===a?(0,l.default)(e,n):e[t.breakpoints.up(a)]=n}(t,e,a),t}),{}))};t.styles=u;var g=s.forwardRef((function(e,t){var a=e.alignContent,n=void 0===a?"stretch":a,i=e.alignItems,c=void 0===i?"stretch":i,m=e.classes,d=e.className,p=e.component,u=void 0===p?"div":p,g=e.container,h=void 0!==g&&g,f=e.direction,E=void 0===f?"row":f,b=e.item,y=void 0!==b&&b,v=e.justify,C=e.justifyContent,w=void 0===C?"flex-start":C,x=e.lg,O=void 0!==x&&x,A=e.md,T=void 0!==A&&A,S=e.sm,M=void 0!==S&&S,k=e.spacing,D=void 0===k?0:k,R=e.wrap,N=void 0===R?"wrap":R,I=e.xl,j=void 0!==I&&I,L=e.xs,P=void 0!==L&&L,U=e.zeroMinWidth,B=void 0!==U&&U,W=(0,r.default)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),F=(0,o.default)(m.root,d,h&&[m.container,0!==D&&m["spacing-xs-".concat(String(D))]],y&&m.item,B&&m.zeroMinWidth,"row"!==E&&m["direction-xs-".concat(String(E))],"wrap"!==N&&m["wrap-xs-".concat(String(N))],"stretch"!==c&&m["align-items-xs-".concat(String(c))],"stretch"!==n&&m["align-content-xs-".concat(String(n))],"flex-start"!==(v||w)&&m["justify-content-xs-".concat(String(v||w))],!1!==P&&m["grid-xs-".concat(String(P))],!1!==M&&m["grid-sm-".concat(String(M))],!1!==T&&m["grid-md-".concat(String(T))],!1!==O&&m["grid-lg-".concat(String(O))],!1!==j&&m["grid-xl-".concat(String(j))]);return s.createElement(u,(0,l.default)({className:F,ref:t},W))})),h=(0,c.default)(u,{name:"MuiGrid"})(g);t.default=h},2128:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return null};return function(t){return function(a,n,i,r,l){var s=l||n;return void 0===a[n]||a[t]?null:new Error("The prop `".concat(s,"` of ")+"`".concat(e,"` must be used on `").concat(t,"`."))}}}},2129:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){return null};return function(e,a,n,i,r){var l=n||"<<anonymous>>",s=r||a;return void 0!==e[a]?new Error("The ".concat(i," `").concat(s,"` of ")+"`".concat(l,"` is deprecated. ").concat(t)):null}}},2131:function(e,t,a){"use strict";var n=a(1214),i=a(1216);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(2)),l=(0,n(a(1217)).default)(r.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"Launch");t.default=l},2626:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),r=a(22),l=a.n(r),s=a(1213),o=a(1660),c=a(1655),m=a(2127),d=a.n(m),p=a(1678),u=a(4988),g=a(1653),h=a(361),f=a(1238),E=a.n(f),b=a(4978),y=a(1292),v=a(1548),C=a(2126),w=a.n(C),x=a(1664),O=a(4991),A=a(1679),T=a(4986),S=a(1927),M=a.n(S),k=a(1928),D=a.n(k),R=a(1225),N=a(1698),I=a(1921),j=a(1922),L=a(1923),P=a(1924);class U extends i.a.Component{handleRequestClose(e){const{callback:t}=this.props;e===U.Action.OK?t(!0):t(!1)}render(){const{title:e,message:t,labelCancel:a,labelOk:n,open:r,classes:l}=this.props;return i.a.createElement(N.a,{role:"alertdialog",open:r,onClose:this.handleRequestClose,className:l.dialogWrapper},i.a.createElement(I.a,null,e||i.a.createElement(g.a,{id:"Shared.ConfirmDialog.please.confirm",defaultMessage:"Please Confirm"})),i.a.createElement(j.a,null,i.a.createElement(L.a,null,t||i.a.createElement(g.a,{id:"Shared.ConfirmDialog.please.confirm.sure",defaultMessage:"Are you sure?"}))),i.a.createElement(P.a,null,i.a.createElement(p.a,{onClick:()=>this.handleRequestClose(U.Action.CANCEL),color:"primary"},a||i.a.createElement(g.a,{id:"Shared.ConfirmDialog.cancel",defaultMessage:"Cancel"})),i.a.createElement(p.a,{onClick:()=>this.handleRequestClose(U.Action.OK),color:"primary",variant:"contained",className:l.deleteConformButton},n||i.a.createElement(g.a,{id:"Shared.ConfirmDialog.ok",defaultMessage:"OK"}))))}}U.propTypes={title:l.a.string.isRequired,message:l.a.string.isRequired,labelCancel:l.a.string.isRequired,labelOk:l.a.string.isRequired,callback:l.a.func.isRequired,open:l.a.bool.isRequired},U.Action={OK:"ok",CANCEL:"cancel"};var B=Object(s.a)(e=>({dialogWrapper:{"& span, & h5, & label, & td, & li, & div, & p":{color:e.palette.getContrastText(e.palette.background.paper)}},deleteConformButton:{"& span.MuiButton-label":{color:e.palette.getContrastText(e.palette.primary.main)}}}))(U),W=a(352),F=a(1656),z=a(2215),_=a(1662),q=a(1794);class G extends i.a.Component{constructor(e){super(e),this.state={commentText:"",category:"",currentLength:0},this.inputChange=this.inputChange.bind(this),this.handleCategoryChange=this.handleCategoryChange.bind(this),this.handleClickUpdateComment=this.handleClickUpdateComment.bind(this),this.handleClickCancel=this.handleClickCancel.bind(this),this.filterCommentToUpdate=this.filterCommentToUpdate.bind(this),this.filterCommentToUpdateReply=this.filterCommentToUpdateReply.bind(this)}componentDidMount(){const{comment:e}=this.props;this.setState({commentText:e.commentText,category:e.category,currentLength:e.commentText.length})}inputChange(e){let{target:t}=e;this.setState({commentText:t.value,currentLength:t.value.length})}handleClickCancel(){const{toggleShowEdit:e,commentsUpdate:t,allComments:a}=this.props;e(),t(a)}handleCategoryChange(e){this.setState({category:e.target.value})}filterCommentToUpdate(e){const{comment:t}=this.props;return e.commentId===t.commentId}filterCommentToUpdateReply(e){const{comment:t}=this.props;return e.commentId===t.parentCommentId}handleClickUpdateComment(){const{apiId:e,comment:t,allComments:a,toggleShowEdit:n,commentsUpdate:i,intl:r}=this.props,{category:l,commentText:s}=this.state,o=new W.a,c=t;c.commentText=s.trim(),c.category=l,t.commentText.replace(/\s/g,"").length?o.updateComment(e,c.commentId,c).then(e=>{const t=e.body;if(void 0===c.parentCommentId){const e=a.findIndex(this.filterCommentToUpdate);a[e].category=t.category,a[e].commentText=t.commentText}else{const e=a.findIndex(this.filterCommentToUpdateReply),n=a[e].replies.findIndex(this.filterCommentToUpdate);a[e].replies[n]=t}n(),i(a)}).catch(e=>{console.error(e),e.response?R.a.error(e.response.body.message):R.a.error(r.formatMessage({defaultMessage:"Something went wrong while adding the comment",id:"Apis.Details.Comments.CommentEdit.something.went.wrong"}))}):R.a.error(r.formatMessage({defaultMessage:"You cannot enter a blank comment",id:"Apis.Details.Comments.CommentEdit.blank.comment.error"}))}render(){const{classes:e,theme:t,intl:a}=this.props,{category:n,commentText:r,currentLength:l}=this.state;return i.a.createElement("div",null,i.a.createElement(z.a,{className:e.category},i.a.createElement(q.a,{value:n,onChange:this.handleCategoryChange},i.a.createElement(_.a,{value:"General"},i.a.createElement(g.a,{id:"Apis.Details.Comments.CommentEdit.general",defaultMessage:"General"})),i.a.createElement(_.a,{value:"Feature Request"},i.a.createElement(g.a,{id:"Apis.Details.Comments.CommentEdit.feature.request",defaultMessage:"Feature Request"})),i.a.createElement(_.a,{value:"Bug Report"},i.a.createElement(g.a,{id:"Apis.Details.Comments.CommentEdit.bug.report",defaultMessage:"Bug Report"})))),i.a.createElement(F.a,{id:"multiline-static",autoFocus:!0,multiline:!0,className:e.textField,margin:"normal",placeholder:a.formatMessage({defaultMessage:"Write a comment",id:"Apis.Details.Comments.CommentEdit.write.a.comment"}),inputProps:{maxLength:t.custom.maxCommentLength},value:r,onChange:this.inputChange}),i.a.createElement(c.a,{className:e.commentText,align:"right"},l+"/"+t.custom.maxCommentLength),i.a.createElement(A.a,{container:!0,spacing:1},i.a.createElement(A.a,{item:!0},i.a.createElement(p.a,{variant:"contained",color:"primary",onClick:()=>this.handleClickUpdateComment()},i.a.createElement(g.a,{id:"Apis.Details.Comments.CommentEdit.btn.save",defaultMessage:"Save"}))),i.a.createElement(A.a,{item:!0},i.a.createElement(p.a,{onClick:()=>this.handleClickCancel(),className:e.button},i.a.createElement(g.a,{id:"Apis.Details.Comments.CommentEdit.btn.cancel",defaultMessage:"Cancel"})))))}}G.defaultProps={commentsUpdate:null},G.propTypes={classes:l.a.instanceOf(Object).isRequired,apiId:l.a.string.isRequired,allComments:l.a.instanceOf(Array).isRequired,commentsUpdate:l.a.func,toggleShowEdit:l.a.func.isRequired,comment:l.a.instanceOf(Object).isRequired,intl:l.a.shape({formatMessage:l.a.func}).isRequired};var H=Object(h.c)(Object(s.a)(e=>({textField:{marginTop:0,width:"87.5%"},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:e.spacing(2),paddingTop:e.spacing.unig,marginTop:e.spacing(2)},category:{width:"12%",marginRight:"0.5%"}}),{withTheme:!0})(G)),V=a(48);class K extends i.a.Component{constructor(e){super(e),this.state={},this.showAddComment=this.showAddComment.bind(this),this.showEditComment=this.showEditComment.bind(this),this.handleClickOpen=this.handleClickOpen.bind(this)}showAddComment(e){const{showAddComment:t}=this.props;t(e)}showEditComment(e){const{editIndex:t,showEditComment:a}=this.props;-1===t&&a(e)}handleClickOpen(e){const{editIndex:t,handleClickOpen:a}=this.props;-1===t&&a(e)}displayDate(e){const t=new Date(e);return t.toLocaleDateString(void 0,{day:"numeric",month:"short",year:"numeric"})+" "+t.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}render(){const{classes:e,comment:t,editIndex:a,index:n,theme:r}=this.props,l=V.a.getUser(),s=l&&l.name,o=t.createdBy===s||l&&l.isAdmin();return i.a.createElement(A.a,{container:!0,className:e.verticalSpace,key:t.id},o&&[i.a.createElement(A.a,{item:!0,key:"key-delete"},i.a.createElement(p.a,{size:"small",className:-1===a?e.link:e.disable,onClick:()=>this.handleClickOpen(t),color:"primary","aria-label":"Delete comment "+t.content},i.a.createElement(g.a,{id:"Apis.Details.Comments.CommentOptions.delete",defaultMessage:"Delete"})))],null===t.parentCommentId&&V.a.getUser()&&[i.a.createElement(A.a,{item:!0,key:"key-reply"},i.a.createElement(p.a,{size:"small",className:e.link,onClick:()=>this.showAddComment(t.id),color:"primary","aria-label":"Reply to comment "+t.content},i.a.createElement(g.a,{id:"Apis.Details.Comments.CommentOptions.reply",defaultMessage:"Reply"})))])}}K.defaultProps={showAddComment:null},K.propTypes={classes:l.a.instanceOf(Object).isRequired,editIndex:l.a.number.isRequired,index:l.a.number.isRequired,comment:l.a.instanceOf(Object).isRequired,handleClickOpen:l.a.func.isRequired,showEditComment:l.a.func.isRequired,showAddComment:l.a.func};var Q=Object(s.a)(e=>({link:{color:e.palette.getContrastText(e.palette.primary.main),"& span.MuiButton-label":{color:e.palette.primary.main,fontWeight:"400"},cursor:"pointer"},time:{color:e.palette.getContrastText(e.palette.background.default),marginTop:e.spacing(.3)},verticalSpace:{display:"flex",alignItems:"center"},disable:{color:e.palette.grey[200]},commentIcon:{color:e.palette.getContrastText(e.palette.background.default)},commentText:{color:e.palette.getContrastText(e.palette.background.default),marginTop:e.spacing.unig,width:"100%",whiteSpace:"pre-wrap",overflowWrap:"break-word"},root:{marginTop:e.spacing(2.5)},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:e.spacing(2),paddingTop:e.spacing.unig}}),{withTheme:!0})(K),Y=a(2628);function $(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class J extends i.a.Component{constructor(e){super(e),$(this,"handleCancel",()=>{const{cancelCallback:e}=this.props;e?e():this.handleClickCancel(-1)}),this.state={content:"",currentLength:0},this.inputChange=this.inputChange.bind(this),this.handleClickAddComment=this.handleClickAddComment.bind(this),this.handleClickCancel=this.handleClickCancel.bind(this),this.filterCommentToAddReply=this.filterCommentToAddReply.bind(this)}inputChange(e){let{target:t}=e;this.setState({content:t.value,currentLength:t.value.length})}handleClickCancel(){this.setState({content:""});const{handleShowReply:e}=this.props;e(-1)}filterCommentToAddReply(e){const{replyTo:t}=this.props;return e.id===t}handleClickAddComment(){const{apiId:e,intl:t,replyTo:a,handleShowReply:n,addComment:i,addReply:r}=this.props,{content:l}=this.state,s=new W.a,o={content:l.trim(),category:"general"};o.content.replace(/\s/g,"").length?s.addComment(e,o,a).then(e=>{this.setState({content:""}),null===a?i&&i(e.body):r&&r(e.body)}).catch(e=>{console.error(e),e.response&&e.response.body&&e.response.body.message?R.a.error(e.response.body.message):R.a.error(t.formatMessage({defaultMessage:"Something went wrong while adding the comment",id:"Apis.Details.Comments.CommentAdd.something.went.wrong"}))}):R.a.error(t.formatMessage({defaultMessage:"You cannot enter a blank comment",id:"Apis.Details.Comments.CommentAdd.error.blank.comment"})),this.setState({currentLength:0}),null!==a&&n()}render(){const{classes:e,cancelButton:t,theme:a,intl:n}=this.props,{content:r,currentLength:l}=this.state;return i.a.createElement(A.a,{container:!0,spacing:1,className:e.contentWrapper},i.a.createElement(A.a,{item:!0,xs:!0,zeroMinWidth:!0},i.a.createElement("div",{className:e.commentAddWrapper},i.a.createElement(Y.a,{htmlFor:"standard-multiline-flexible"},i.a.createElement(g.a,{id:"Apis.Details.Comments.CommentAdd.write.comment.label",defaultMessage:"Write a comment"})),i.a.createElement(F.a,{id:"standard-multiline-flexible",autoFocus:!0,multiline:!0,rows:"4",className:e.textField,margin:"normal",placeholder:n.formatMessage({defaultMessage:"Write a comment",id:"Apis.Details.Comments.CommentAdd.write.comment.help"}),inputProps:{maxLength:a.custom.maxCommentLength},value:r,onChange:this.inputChange,variant:"outlined"}),i.a.createElement(c.a,{className:e.content,align:"right"},l+"/"+a.custom.maxCommentLength)),i.a.createElement(A.a,{container:!0,spacing:1},i.a.createElement(A.a,{item:!0},i.a.createElement(p.a,{variant:"contained",color:"primary",disabled:0===l,onClick:()=>this.handleClickAddComment(),className:e.commentAddButton},i.a.createElement(g.a,{id:"Apis.Details.Comments.CommentAdd.btn.add.comment",defaultMessage:"Comment"}))),t&&i.a.createElement(A.a,{item:!0},i.a.createElement(p.a,{onClick:this.handleCancel,className:e.button},i.a.createElement(g.a,{id:"Apis.Details.Comments.CommentAdd.btn.cancel",defaultMessage:"Cancel"}))))))}}J.defaultProps={replyTo:null,handleShowReply:null,commentsUpdate:null,cancelCallback:null},J.propTypes={classes:l.a.instanceOf(Object).isRequired,cancelButton:l.a.bool.isRequired,apiId:l.a.string.isRequired,replyTo:l.a.string,handleShowReply:l.a.func,commentsUpdate:l.a.func,allComments:l.a.instanceOf(Array).isRequired,intl:l.a.shape({formatMessage:l.a.func}).isRequired,cancelCallback:l.a.func};var X=Object(h.c)(Object(s.a)(e=>({commentIcon:{color:e.palette.getContrastText(e.palette.background.default)},content:{color:e.palette.getContrastText(e.palette.background.default)},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:e.spacing(2),paddingTop:e.spacing(1),marginTop:e.spacing(2)},textField:{marginTop:0,marginRight:5,width:"100%"},commentAddWrapper:{display:"flex",alignItems:"top",flexFlow:"column","& label":{marginBottom:e.spacing(1)}},commentAddButton:{"& span.MuiButton-label":{color:e.palette.getContrastText(e.palette.primary.main)}}}),{withTheme:!0})(J));function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){te(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function te(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}M.a.extend(D.a);class ae extends i.a.Component{constructor(e){super(e),this.state={openDialog:!1,replyId:-1,editIndex:-1,deleteComment:null},this.handleClickDeleteComment=this.handleClickDeleteComment.bind(this),this.handleShowEdit=this.handleShowEdit.bind(this),this.handleShowReply=this.handleShowReply.bind(this),this.handleClickOpen=this.handleClickOpen.bind(this),this.showAddComment=this.showAddComment.bind(this),this.showEditComment=this.showEditComment.bind(this),this.handleConfirmDialog=this.handleConfirmDialog.bind(this),this.handleClose=this.handleClose.bind(this),this.filterRemainingComments=this.filterRemainingComments.bind(this),this.filterCommentToDelete=this.filterCommentToDelete.bind(this),this.handleLoadMoreReplies=this.handleLoadMoreReplies.bind(this),this.handleAddReply=this.handleAddReply.bind(this),this.handleDeleteReply=this.handleDeleteReply.bind(this)}filterRemainingComments(e){const{deleteComment:t}=this.state;return e.id!==t.id}filterCommentToDelete(e){const{deleteComment:t}=this.state;return e.id===t.parentCommentId}showAddComment(e){this.setState({replyId:e})}showEditComment(e){const{editIndex:t}=this.state;-1===t&&this.setState({editIndex:e})}handleShowEdit(){this.setState({editIndex:-1})}handleShowReply(){this.setState({replyId:-1})}handleClickOpen(e){const{editIndex:t}=this.state;-1===t&&this.setState({deleteComment:e,openDialog:!0})}handleClose(){this.setState({openDialog:!1})}handleConfirmDialog(e){e?this.handleClickDeleteComment():this.handleClose()}handleClickDeleteComment(){const e=new W.a,{deleteComment:t}=this.state,{apiId:a,intl:n,onDeleteComment:i}=this.props,r=t.id,l=t.parentCommentId;this.handleClose(),e.deleteComment(a,r).then(()=>{null===l?(i&&i(r),R.a.info(n.formatMessage({defaultMessage:"Comment has been successfully deleted",id:"Apis.Details.Comments.Comment.comment.deleted"}))):(this.handleDeleteReply(l,r),R.a.info(n.formatMessage({defaultMessage:"Reply comment has been successfully deleted",id:"Apis.Details.Comments.Comment.reply.comment.deleted"})))}).catch(e=>{console.error(e),e.response?R.a.error(e.response.body.message):R.a.error(n.formatMessage({defaultMessage:"Something went wrong while deleting comment",id:"Apis.Details.Comments.Comment.something.went.wrong"})+" - "+r)})}handleLoadMoreReplies(e){const{apiId:t,comments:a,updateComment:n}=this.props,{id:i,replies:{count:r,list:l}}=e;(new W.a).getAllCommentReplies(t,i,3,r).then(e=>{if(e.body){const{list:t,count:s}=e.body,o=a.find(e=>e.id===i),c=l.concat(t),m=r+s,d=m<=3?3:m,p=ee(ee({},o),{},{replies:{count:m,list:c,pagination:ee(ee({},o.replies.pagination),{},{limit:d})}});n&&n(p)}}).catch(e=>{0})}handleDeleteReply(e,t){const{comments:a,updateComment:n,apiId:i}=this.props,r=a.find(t=>t.id===e),{replies:l}=r,s=l.list.filter(e=>e.id!==t),o=l.pagination.total-1,c=l.pagination.limit>o?o:l.pagination.limit,m=l.count-1;if(o>m){(new W.a).getAllCommentReplies(i,e,1,c-1).then(e=>{if(e.body){const t=ee(ee({},r),{},{replies:ee(ee({},l),{},{list:[...s,...e.body.list],pagination:ee(ee({},l.pagination),{},{total:o})})});n&&n(t)}}).catch(e=>{0})}else{const e=ee(ee({},r),{},{replies:ee(ee({},l),{},{count:m,list:s,pagination:ee(ee({},l.pagination),{},{limit:c,total:o})})});n&&n(e)}}handleAddReply(e){const{comments:t,updateComment:a}=this.props,{parentCommentId:n}=e,i=t.find(e=>e.id===n),{replies:r}=i,l=(r.count||0)+1,s=l<=3?3:l,o=ee(ee({},i),{},{replies:ee(ee({},r),{},{count:l,list:[...r.list,e],pagination:ee(ee({},r.pagination),{},{limit:s,offset:r.pagination.offset||0,total:r.pagination.total+1})})});a&&a(o)}render(){const{classes:e,comments:t,apiId:a,allComments:n,isOverview:r,isCrossTenantUser:l}=this.props,{editIndex:s,openDialog:o,replyId:m}=this.state;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:E()({[e.paper]:!r&&t.length>0},{[e.cleanBack]:r})},t&&t.slice(0).map((t,o)=>i.a.createElement("div",{key:t.id+"-"+o,className:E()({[e.contentWrapper]:!r},{[e.contentWrapperOverview]:r})},0!==o&&i.a.createElement(T.a,{className:e.divider}),i.a.createElement(A.a,{md:8,container:!0,spacing:1,className:E()({[e.root]:!r})},i.a.createElement(A.a,{item:!0},i.a.createElement(O.a,{className:e.commentIcon},"account_circle")),i.a.createElement(A.a,{item:!0,xs:!0,zeroMinWidth:!0},i.a.createElement(c.a,{noWrap:!0,className:e.commentText},t.commenterInfo&&t.commenterInfo.firstName?t.commenterInfo.firstName+t.commenterInfo.lastName:t.createdBy),i.a.createElement(x.a,{title:t.createdTime,"aria-label":t.createdTime},i.a.createElement(c.a,{noWrap:!0,className:e.commentText,variant:"caption"},M()(t.createdTime).fromNow())),i.a.createElement(c.a,{className:e.commentText},t.content),!l&&i.a.createElement(Q,{comment:t,editIndex:s,index:o,showAddComment:this.showAddComment,handleClickOpen:this.handleClickOpen,showEditComment:this.showEditComment}),t.id===m&&i.a.createElement(u.a,{ml:6,mb:2},i.a.createElement(X,{apiId:a,replyTo:t.id,allComments:n,handleShowReply:this.handleShowReply,cancelButton:!0,addReply:this.handleAddReply})),t.replies&&t.replies.list.map((n,r)=>i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{ml:8},0!==r&&i.a.createElement(T.a,{className:e.divider}),i.a.createElement(A.a,{container:!0,spacing:1,className:e.root},i.a.createElement(A.a,{item:!0},i.a.createElement(O.a,{className:e.commentIcon},"account_circle")),i.a.createElement(A.a,{item:!0,xs:!0,zeroMinWidth:!0},i.a.createElement(c.a,{noWrap:!0,className:e.commentText},n.commenterInfo&&n.commenterInfo.fullName?n.commenterInfo.fullName:n.createdBy),i.a.createElement(x.a,{title:t.createdTime,"aria-label":t.createdTime},i.a.createElement(c.a,{noWrap:!0,className:e.commentText,variant:"caption"},M()(n.createdTime).fromNow())),r!==s&&i.a.createElement(c.a,{className:e.commentText},n.content),r===s&&i.a.createElement(H,{apiId:a,allComments:n,comment:n,toggleShowEdit:this.handleShowEdit}),!l&&i.a.createElement(Q,{comment:n,editIndex:s,index:r,showAddComment:this.showAddComment,handleClickOpen:this.handleClickOpen,showEditComment:this.showEditComment})))))),t.replies&&t.replies.count<t.replies.pagination.total&&i.a.createElement("div",{className:e.contentWrapper},i.a.createElement(A.a,{container:!0,spacing:4,className:e.root},i.a.createElement(A.a,{item:!0},i.a.createElement(c.a,{className:e.verticalSpace,variant:"body1"},i.a.createElement("a",{className:e.link+" "+e.loadMoreLink,onClick:()=>this.handleLoadMoreReplies(t),onKeyDown:()=>this.handleLoadMoreReplies(t)},i.a.createElement(g.a,{id:"Apis.Details.Comments.Comment.load.more.replies",defaultMessage:"Show More Replies"})))),i.a.createElement(A.a,{item:!0},i.a.createElement(c.a,{className:e.verticalSpace,zvariant:"body1"},"("+t.replies.count+" of "+t.replies.pagination.total+")"))))))))),i.a.createElement(B,{key:"key-dialog",labelCancel:i.a.createElement(g.a,{id:"Apis.Details.Comments.Comment.delete.dialog.label.cancel",defaultMessage:"Cancel"}),title:i.a.createElement(g.a,{id:"Apis.Details.Comments.Comment.delete.dialog.title",defaultMessage:"Confirm Delete"}),message:i.a.createElement(g.a,{id:"Apis.Details.Comments.Comment.delete.dialog.message",defaultMessage:"Are you sure you want to delete this comment?"}),labelOk:i.a.createElement(g.a,{id:"Apis.Details.Comments.Comment.delete.dialog.label.ok",defaultMessage:"Yes"}),callback:this.handleConfirmDialog,open:o}))}}ae.defaultProps={isOverview:!1},ae.propTypes={classes:l.a.shape({}).isRequired,apiId:l.a.string.isRequired,allComments:l.a.instanceOf(Array).isRequired,comments:l.a.instanceOf(Array).isRequired,isOverview:l.a.bool,isCrossTenantUser:l.a.bool.isRequired,updateComment:l.a.func.isRequired};var ne=Object(h.c)(Object(s.a)(e=>({link:{color:e.palette.getContrastText(e.palette.background.default),cursor:"pointer"},commentIcon:{color:e.palette.getContrastText(e.palette.background.default)},commentText:{color:e.palette.getContrastText(e.palette.background.default),marginTop:0,width:"99%",whiteSpace:"pre-wrap",overflowWrap:"break-word",wordBreak:"break-all"},root:{marginTop:e.spacing(1)},contentWrapper:{paddingLeft:e.spacing(2),paddingTop:e.spacing(1)},contentWrapperOverview:{background:"transparent",width:"100%"},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2),width:"60%"},paper:{margin:0,marginTop:e.spacing(1),marginRight:e.spacing(3),paddingBottom:e.spacing(3)},cleanBack:{background:"transparent",width:"100%",boxShadow:"none"}}))(ae)),ie=a(1239);class re extends n.Component{constructor(e){super(e),this.state={expanded:!0,allComments:null,comments:[],totalComments:0,apiId:null,showCommentAdd:!1},this.handleExpandClick=this.handleExpandClick.bind(this),this.handleLoadMoreComments=this.handleLoadMoreComments.bind(this),this.toggleCommentAdd=this.toggleCommentAdd.bind(this),this.addComment=this.addComment.bind(this),this.updateComment=this.updateComment.bind(this),this.onDeleteComment=this.onDeleteComment.bind(this),this.isCrossTenant=this.isCrossTenant.bind(this)}componentDidMount(){let{apiId:e,theme:t,match:a,intl:n,isOverview:i,setCount:r}=this.props;a&&(e=a.params.apiUuid),this.setState({apiId:e});const l=new W.a,s=t.custom.commentsLimit;l.getAllComments(e,s,0).then(e=>{let t=e.body.list;i&&(r(t.length),t.length>2&&(t=t.slice(t.length-3,t.length))),this.setState({allComments:t,comments:t,totalComments:e.body.pagination.total})}).catch(e=>{0})}handleLoadMoreComments(){const{allComments:e,apiId:t,comments:a}=this.state,{theme:n}=this.props,i=new W.a,r=n.custom.commentsLimit,l=a.length;i.getAllComments(t,r,l).then(t=>{const a=e.concat(t.body.list);this.setState({allComments:a,comments:a})}).catch(e=>{0})}handleExpandClick(){const{expanded:e}=this.state;this.setState({expanded:!e})}addComment(e){const{totalComments:t,allComments:a}=this.state,{theme:{custom:{commentsLimit:n}}}=this.props,i=t+1;this.setState({allComments:[e,...a],totalComments:i,comments:[e,...a]})}updateComment(e){const{comments:t}=this.state,a=t.reduce((t,a)=>{let n=a;return a.id===e.id&&(n=e),[...t,n]},[]);this.setState({allComments:a,comments:a})}onDeleteComment(e){const{apiId:t,comments:a,totalComments:n}=this.state,i=a.filter(t=>t.id!==e),r=n-1;if(r>i.length){(new W.a).getAllComments(t,1,i.length).then(e=>{e.body&&this.setState({totalComments:r,comments:[...i,...e.body.list],allComments:[...i,...e.body.list]})}).catch(e=>{0})}else this.setState({totalComments:r,comments:i,allComments:i})}isCrossTenant(e,t){if(!t)return!1;let a=null;const n=e.name;if(n.includes("@")){const e=n.split("@");a=e[e.length-1]}else a="carbon.super";return t!==a}toggleCommentAdd(){this.setState(e=>({showCommentAdd:!e.showCommentAdd}))}render(){const{classes:e,isOverview:t,tenantDomain:a}=this.props,{comments:n,allComments:r,totalComments:l,showCommentAdd:s}=this.state,m=V.a.getUser()&&this.isCrossTenant(V.a.getUser(),a);return i.a.createElement(ie.a.Consumer,null,a=>{let{api:h}=a;return i.a.createElement("div",{className:E()({[e.contentWrapper]:!t},{[e.contentWrapperOverview]:t})},!t&&i.a.createElement("div",{className:e.root},i.a.createElement(c.a,{variant:"h4",component:"h2",className:e.titleSub},l+" ",i.a.createElement(g.a,{id:"Apis.Details.Comments.title",defaultMessage:"Comments"}))),!m&&V.a.getUser()&&i.a.createElement(u.a,{mt:2,ml:1},!s&&i.a.createElement(p.a,{color:"primary",size:"small",className:e.button,startIcon:i.a.createElement(w.a,null),onClick:this.toggleCommentAdd},i.a.createElement(g.a,{id:"Apis.Details.Comments.write.a.new.comment",defaultMessage:"Write a New Comment"})),s&&i.a.createElement(X,{apiId:h.id,commentsUpdate:this.addComment,addComment:this.addComment,allComments:r,replyTo:null,cancelCallback:this.toggleCommentAdd,cancelButton:!0})),!r&&i.a.createElement(o.a,{className:e.paperProgress},i.a.createElement(b.a,{size:24})),r&&0===l&&i.a.createElement(u.a,{mt:2,mb:2,ml:1},i.a.createElement(y.a,{type:"info",title:i.a.createElement(g.a,{id:"Apis.Details.Comments.no.comments",defaultMessage:"No Comments Yet"})},i.a.createElement(c.a,{component:"p"},i.a.createElement(g.a,{id:"Apis.Details.Comments.no.comments.content",defaultMessage:"No comments available for this API yet"})))),i.a.createElement(ne,{comments:n,isCrossTenantUser:m,apiId:h.id,allComments:r,onDeleteComment:this.onDeleteComment,updateComment:this.updateComment}),l>n.length&&i.a.createElement("div",{className:e.contentWrapper},i.a.createElement(d.a,{container:!0,spacing:4,className:e.root},i.a.createElement(d.a,{item:!0},i.a.createElement(c.a,{className:e.verticalSpace,variant:"body1"},i.a.createElement("a",{className:e.link+" "+e.loadMoreLink,onClick:this.handleLoadMoreComments},i.a.createElement(g.a,{id:"Apis.Details.Comments.load.previous.comments",defaultMessage:"Show More"})))),i.a.createElement(d.a,{item:!0},i.a.createElement(c.a,{className:e.verticalSpace,variant:"body1"},"("+n.length+" of "+l+")")))))})}}var le,se,oe;le=re,se="contextType",oe=ie.a,(se=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(se))in le?Object.defineProperty(le,se,{value:oe,enumerable:!0,configurable:!0,writable:!0}):le[se]=oe,re.defaultProps={setCount:()=>{}},re.propTypes={classes:l.a.instanceOf(Object).isRequired,setCount:l.a.func};t.default=Object(h.c)(Object(s.a)(e=>({root:{display:"flex",alignItems:"center",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},paper:{marginRight:e.spacing(3),paddingBottom:e.spacing(3),paddingRight:e.spacing(2),"& span, & h5, & label, & td, & li, & div, & input":{color:e.palette.getContrastText(e.palette.background.paper)}},contentWrapper:{paddingLeft:e.spacing(3),marginTop:e.spacing(1)},contentWrapperOverview:{padding:0,width:"100%",boxShadow:"none"},titleSub:{cursor:"pointer",color:e.palette.getContrastText(e.palette.background.default)},link:{color:e.palette.getContrastText(e.palette.background.default),cursor:"pointer"},verticalSpace:{marginTop:e.spacing(.2)},loadMoreLink:{textDecoration:"none"},genericMessageWrapper:{marginTop:e.spacing(2),marginBottom:e.spacing(2),marginRight:e.spacing(3)},paperProgress:{padding:e.spacing(3),marginTop:e.spacing(2)},button:{textTransform:"capitalize"}}),{withTheme:!0})(Object(v.a)(re)))},4333:function(e,t,a){"use strict";var n=a(1214),i=a(1216);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(2)),l=(0,n(a(1217)).default)(r.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");t.default=l},4334:function(e,t,a){"use strict";var n=a(1214),i=a(1216);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(2)),l=(0,n(a(1217)).default)(r.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}),"MailOutline");t.default=l},5015:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),r=a(1412),l=a(1653),s=a(535),o=a(5001),c=a(1666),m=a(1262),d=a(1660),p=a(1679),u=a(1414),g=a(4988),h=a(2631),f=a(1655),E=a(2741),b=a(1684),y=a(1685),v=a(1686),C=a(7),w=a(75),x=a(1212),O=a(1213),A=n.forwardRef((function(e,t){var a=e.classes,i=e.className,r=e.component,l=void 0===r?"div":r,s=Object(w.a)(e,["classes","className","component"]);return n.createElement(l,Object(C.a)({ref:t,className:Object(x.default)(a.root,i)},s))})),T=Object(O.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(A),S=a(1691),M=a(1687),k=a(2742),D=a(2131),R=a.n(D),N=a(2623),I=a(2188),j=a(1239),L=a(2193),P=a(1467),U=a(2239),B=a(361),W=a(25),F=a.n(W),z=a(5021),_=a(4333),q=a.n(_),G=a(1257),H=a.n(G),V=a(1664),K=a(4991);function Q(){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}const Y=Object(c.a)(e=>({paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},codeIcon:{cursor:"pointer",color:e.palette.getContrastText(e.custom.infoBar.background)},code:{background:"#efefef",color:"cc0000",border:"solid 1px #ccc",padding:e.spacing(1)},iconStyle:{position:"absolute",top:60,right:30}}));var $=Object(B.c)((function(e){const{intl:t}=e,a=Y(),[n]=i.a.useState(Q),[r,s]=i.a.useState(!1),[o,c]=i.a.useState(!1),m=new URL(window.location);m.searchParams.set("widget",!0);const d='<iframe width="450" height="120" src="'+m+'" frameBorder="0" allowFullScreen title="Embed API" />';return i.a.createElement("div",null,i.a.createElement(q.a,{className:a.codeIcon,onClick:()=>{s(!0)}}),i.a.createElement(z.a,{open:r,onClose:()=>{s(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},i.a.createElement("div",{style:n,className:a.paper},i.a.createElement("h2",{id:"simple-modal-title"},i.a.createElement(l.a,{id:"Apis.Details.Social.EmbedCode",defaultMessage:"Embed"})),i.a.createElement("div",{className:a.code},i.a.createElement("code",null,d)),i.a.createElement(V.a,{title:o?t.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):t.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),placement:"right",className:a.iconStyle},i.a.createElement(H.a,{text:d,onCopy:()=>{c(!0),setTimeout(()=>c(!1),2e3)}},i.a.createElement(K.a,{color:"secondary"},"file_copy"))))))})),J=a(4334),X=a.n(J);const Z=Object(c.a)(e=>({socialLink:{display:"inline-block","& img":{width:32,marginRight:e.spacing(1)}},oneFlex:{flex:1},socialLinkWrapper:{marginTop:16,display:"flex",alignItems:"center",paddingRight:e.spacing(2),"& > div":{display:"inline-block"}},divider:{display:"inline-block",borderRight:"solid 1px #ccc",marginLeft:e.spacing(1),marginRight:e.spacing(1),height:30},codeIcon:{cursor:"pointer",color:e.palette.getContrastText(e.custom.infoBar.background)}}));var ee=Object(B.c)((function(){const e=Z(),{api:t}=Object(n.useContext)(j.a),{name:a}=t,r=encodeURI(window.location),l=Object(m.a)(),[s,o]=[t.additionalProperties.find(e=>"slack_url"===e.name),t.additionalProperties.find(e=>"github_repo"===e.name)],{custom:{social:{showSharing:{active:c,showFacebook:d,showReddit:p,showTwitter:u,showEmbed:g,showEmail:h}}}}=l;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:e.oneFlex}),i.a.createElement("div",{className:e.socialLinkWrapper},s&&i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:e.socialLink,id:"Slack",href:s.value,target:"_blank",rel:"noopener noreferrer",title:"Slack"},i.a.createElement("img",{src:W.app.context+"/site/public/images/social/slack.png",alt:"Slack"}))),o&&i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:e.socialLink,id:"github",href:o.value,target:"_blank",rel:"noopener noreferrer",title:"GitHub"},i.a.createElement("img",{src:W.app.context+"/site/public/images/social/github.jpg",alt:"GitHub"}))),c&&(s||o)&&i.a.createElement("div",{className:e.divider}),c&&d&&i.a.createElement("a",{className:e.socialLink,id:"facebook",href:"http://www.facebook.com/sharer.php?u="+r,target:"_blank",rel:"noopener noreferrer",title:"Facebook"},i.a.createElement("img",{src:W.app.context+"/site/public/images/social/facebook.png",alt:"Facebook"})),c&&u&&i.a.createElement("a",{className:e.socialLink,id:"Twitter",href:`http://twitter.com/share?url=${r}&text=${a}`,target:"_blank",rel:"noopener noreferrer",title:"Twitter"},i.a.createElement("img",{src:W.app.context+"/site/public/images/social/twitter.png",alt:"Twitter"})),c&&p&&i.a.createElement("a",{className:e.socialLink,id:"Reddit",href:`http://www.reddit.com/submit?url=${r}&title=${a}`,target:"_blank",rel:"noopener noreferrer",title:"Reddit"},i.a.createElement("img",{src:W.app.context+"/site/public/images/social/reddit.png",alt:"Reddit"})),c&&g&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:e.divider}),i.a.createElement($,null)),c&&h&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:e.divider}),i.a.createElement("a",{href:`mailto:?Subject=${a}&body=Link+:+${r}"`,className:e.codeIcon},i.a.createElement(X.a,null)))))})),te=a(1273),ae=a(48),ne=a(1225),ie=a(210),re=a(352),le=a(2124),se=a(2629),oe=a(1665),ce=a(22),me=a.n(ce),de=a(5031),pe=a(1549),ue=a(1678),ge=a(355),he=a(4995),fe=a(4996),Ee=a(4990),be=a(1279),ye=a(95),ve=a(4906),Ce=a(4978);function we(e){const{completed:t,errors:a,inProgress:n,children:r,completedMessage:s,inProgressMessage:o}=e;let c,m=r;if(t?(c="success",s&&(m=s)):n?(c="info",o&&(m=o)):c="waiting",a)if(c="error",a.response){const{body:e}=a.response;m=i.a.createElement(i.a.Fragment,null,i.a.createElement("b",null,"[",e.code,"]")," ",":",e.description)}else m=i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{id:"Apis.Listing.TaskState.generic.error.prefix",defaultMessage:"Error while"})," ",o);return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{item:!0,xs:12},i.a.createElement(ve.a,{icon:n?i.a.createElement(Ce.a,{size:20,thickness:2}):null,variant:a?"standard":"plain",severity:c},m)))}function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(a),!0).forEach((function(t){Ae(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ae(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Te=Object(c.a)(()=>({tryoutLabel:{whiteSpace:"nowrap"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},statusBox:{outline:"none"},asyncButton:{minWidth:115}})),Se="CREATED",Me="REJECTED",ke=new re.a,De={subscribe:{inProgress:!0,completed:!1,errors:!1},prepare:{inProgress:!1,completed:!1,errors:!1},generate:{inProgress:!1,completed:!1,errors:!1}},Re=(e,t)=>{const{name:a,status:n}=t;return"reset"===a?De:Oe(Oe({},e),{},{[a]:Oe(Oe({},e[a]),n)})};function Ne(){const e=ae.a.getUser(),{api:t,subscribedApplications:a,applicationsAvailable:s,updateSubscriptionData:o}=Object(n.useContext)(j.a),c=s.filter(e=>"DefaultApplication"===e.label),d=c.length>0?c[0]:null,[u,h]=Object(n.useReducer)(Re,De),[E,b]=Object(n.useState)(!1),y=Te(),v=Object(r.a)(),C=Object(ge.i)(),w=Object(m.a)(),x=Object(Ee.a)(w.breakpoints.down("xs")),O=t&&(t.type===ye.a.API_TYPES.WS||t.type===ye.a.API_TYPES.WEBSUB||t.type===ye.a.API_TYPES.SSE||t.type===ye.a.API_TYPES.ASYNC),A=t.lifeCycleStatus&&"prototyped"===t.lifeCycleStatus.toLowerCase(),T=async(e,t)=>{let a;h({name:t,status:{inProgress:!0}});try{a=await e}catch(e){console.error(e),h({name:t,status:{errors:e}})}return h({name:t,status:{inProgress:!1,completed:!0}}),a},S=async()=>{await o(),O?C.push("/apis/"+t.id+"/definition"):C.push("/apis/"+t.id+"/test")};Object.values(u).map(e=>e.completed).reduce((e,t)=>t&&e);const M=Object.values(u).map(e=>e.errors).find(e=>!1!==e),k=O?i.a.createElement(ue.a,{variant:"outlined",color:"primary",size:"small",classes:{root:y.asyncButton,label:y.tryoutLabel},onClick:S},i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.btn.view.definition",defaultMessage:"View Definition"})):i.a.createElement(ue.a,{variant:"contained",color:"primary",size:"medium",classes:{label:y.tryoutLabel},onClick:S,"aria-label":"Go to Try Out page"},i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.btn.tryout",defaultMessage:"Try Out"}));return!d||a.length>0||t.advertiseInfo.advertised||!e||O||A?i.a.createElement(i.a.Fragment,null,k):i.a.createElement(i.a.Fragment,null,i.a.createElement(ue.a,{onClick:async()=>{let e=null;t.tiers&&t.tiers.length>0?e=t.tiers[0].tierName:C.push("/apis/"+t.id+"/test"),b(!0);const a=await T((async()=>ke.getKeyManagers().then(e=>{const t={keyType:"SANDBOX",supportedGrantTypes:[],callbackUrl:"",additionalProperties:{},keyManager:""},a=[];let n;if(e.body.list.map(e=>a.push(e)),a.length>0){const e=a.filter(e=>"Resident Key Manager"===e.name);n=e.length>0?e[0]:a[0]}try{t.keyManager=n.id,t.supportedGrantTypes=n.availableGrantTypes.filter(e=>"urn:ietf:params:oauth:grant-type:token-exchange"!==e),(n.availableGrantTypes.includes("implicit")||n.availableGrantTypes.includes("authorization_code"))&&(t.callbackUrl="http://localhost")}catch(e){ne.a.error(v.formatMessage({id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.error.keymanager",defaultMessage:"Error while selecting the key manager"}))}return t}).catch(e=>{0}))(),"prepare");await T((async(e,t)=>{const a=await be.a.get(t);(await a.getKeys(e.keyType)).size>0||a.generateKeys(e.keyType,e.supportedGrantTypes,e.callbackUrl,e.additionalProperties,e.keyManager).then(e=>(e.keyState===Se||e.keyState===Me?ne.a.error(v.formatMessage({id:"Apis.Details.GoToTryOut.error.keymanager",defaultMessage:"Key Generation is Blocked."})):console.log("Keys generated successfully with ID : "+e),e)).catch(e=>{const{status:t}=e;404===t&&ne.a.error(v.formatMessage({id:"Apis.Details.GoToTryOut.error.404",defaultMessage:"Resource not found."}))})})(a,d.value),"generate"),await T(ke.subscribe(t.id,d.value,e),"subscribe")},variant:"contained",color:"primary",size:"medium","aria-label":"Try Out the API",classes:{label:y.tryoutLabel}},i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.btn.tryout",defaultMessage:"Try Out"})),i.a.createElement(z.a,{"aria-label":"Preparing to Try Out the API",className:y.modal,open:E,closeAfterTransition:!0,BackdropComponent:he.a,BackdropProps:{timeout:500},role:"status"},i.a.createElement(fe.a,{in:E},i.a.createElement(g.a,{bgcolor:"background.paper",borderRadius:"borderRadius",width:x?.8:1/4,className:y.statusBox,p:2},i.a.createElement(p.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},i.a.createElement(we,{completed:u.subscribe.completed,errors:u.subscribe.errors,inProgress:u.subscribe.inProgress,completedMessage:i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.subscribe.complete.success",defaultMessage:"API subscribe to DefaultApplication successfully!"}),inProgressMessage:i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.subscribe.inprogress",defaultMessage:"API subscribing to DefaultApplication ..."})},i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.subscribe.complete",defaultMessage:"API subscribe to DefaultApplication"})),i.a.createElement(we,{completed:u.prepare.completed,errors:u.prepare.errors,inProgress:u.prepare.inProgress,completedMessage:i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.prepare.complete",defaultMessage:"Getting ready to generate keys"}),inProgressMessage:i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.prepare.inprogress",defaultMessage:"Gathering information to generate keys ..."})},i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.prepare.complete",defaultMessage:"Getting ready to generate keys"})),i.a.createElement(we,{completed:u.generate.completed,errors:u.generate.errors,inProgress:u.generate.inProgress,completedMessage:i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.generate.complete",defaultMessage:"Consumer key and secret generated successfully!"}),inProgressMessage:i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.generate.inprogress",defaultMessage:"Generating Consumer key and secret ..."})},i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.key.secret",defaultMessage:"Consumer key and secret"})),M?i.a.createElement(p.a,{item:!0,xs:12},i.a.createElement(ue.a,{onClick:()=>{b(!1),h({name:"reset"})},variant:"outlined"},i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.continue.on.close",defaultMessage:"Close"}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{item:!0,xs:12},i.a.createElement(f.a,{variant:"caption"},i.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.final.message",defaultMessage:'All set to try out. Use the "Generate Keys" button to get an access token while you are on the Try Out page.'}))),i.a.createElement(p.a,{item:!0,xs:12},i.a.createElement(g.a,{display:"flex",pr:4},i.a.createElement(g.a,{flex:1}),k))))))))}const Ie=Object(c.a)(e=>({root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:"solid 1px "+e.palette.grey[300],"& .MuiInputBase-root:before,  .MuiInputBase-root:hover":{borderBottom:"none !important",color:e.palette.primary.main},"& .MuiSelect-select":{color:e.palette.primary.main,paddingLeft:e.spacing()},"& .MuiInputBase-input":{color:e.palette.primary.main},"& .material-icons":{fontSize:16,color:e.palette.grey[700]+" !important"},borderRadius:10,marginRight:e.spacing()},input:{marginLeft:e.spacing(1),flex:1},avatar:{width:30,height:30,background:"transparent",border:"solid 1px "+e.palette.grey[300]},iconStyle:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:"#9c9c9c"}},sectionTitle:{color:"#424242",fontSize:"0.85rem",marginRight:20,fontWeight:400}}));function je(){const{api:e}=Object(n.useContext)(j.a),[t,a]=Object(n.useState)(!1),[s,o]=Object(n.useState)(null),c=Object(r.a)(),m=Ie();return Object(n.useEffect)(()=>{const t=[];e.asyncTransportProtocols&&(e.asyncTransportProtocols.map(e=>(t.push(JSON.parse(e)),null)),o(t))},[e]),i.a.createElement(i.a.Fragment,null,"solace"===e.gatewayVendor&&i.a.createElement(p.a,{container:!0,spacing:2,xs:12},i.a.createElement(p.a,{item:!0,spacing:2,xs:2},i.a.createElement(f.a,{variant:"subtitle2",component:"label",gutterBottom:!0,align:"left",className:m.sectionTitle},i.a.createElement(l.a,{id:"Apis.Details.protocols.and.endpoints",defaultMessage:"Protocols & Endpoints"}))),i.a.createElement(p.a,{item:!0,spacing:2,xs:10},i.a.createElement(Ne,null)),i.a.createElement(p.a,{item:!0,spacing:2,xs:12},i.a.createElement(p.a,{container:!0,spacing:2,xs:12},i.a.createElement(p.a,{item:!0,spacing:2,xs:12},e.endpointURLs.map(e=>i.a.createElement(f.a,{component:"p",variant:"subtitle2"},e.environmentDisplayName))),i.a.createElement(p.a,{item:!0,spacing:2,xs:12},s&&s.map(e=>i.a.createElement(p.a,{container:!0,spacing:2,xs:12},i.a.createElement(p.a,{item:!0},i.a.createElement(f.a,{component:"p",variant:"body1"},i.a.createElement(l.a,{id:"Apis.Details.NewOverview.Endpoints.blank",defaultMessage:"-"}))),i.a.createElement(p.a,{item:!0,style:{display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement(h.a,{label:Object(pe.b)(e.protocol),"data-testid":Object(pe.b)(e.protocol)+"-label",color:"primary",style:{width:"70px"}})),i.a.createElement(p.a,{xs:10,item:!0,style:{display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement(d.a,{id:"gateway-envirounment",component:"form",className:m.root},i.a.createElement(se.a,{className:m.input,inputProps:{"aria-label":"api url"},value:e.endPointUrl}),i.a.createElement(de.a,{className:m.avatar,sizes:30},i.a.createElement(V.a,{title:t?c.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):c.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:m.iconStyle},i.a.createElement(H.a,{text:e.endPointUrl,onCopy:()=>(()=>{a(!0);setTimeout((function(){a(!1)}),2e3)})()},i.a.createElement(oe.a,{"aria-label":"Copy the API URL to clipboard"},i.a.createElement(K.a,{color:"secondary"},"file_copy"))))))))))))))}je.propTypes={classes:me.a.shape({}).isRequired,intl:me.a.shape({}).isRequired};var Le=je,Pe=a(1662),Ue=a(1794),Be=a(4986);const We=Object(c.a)(e=>({root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:"solid 1px "+e.palette.grey[300],"& .MuiInputBase-root:before,  .MuiInputBase-root:hover":{borderBottom:"none !important",color:e.palette.primary.main},"& .MuiSelect-select":{color:e.palette.primary.main,paddingLeft:e.spacing()},"& .MuiInputBase-input":{color:e.palette.primary.main},"& .material-icons":{fontSize:16,color:e.palette.grey[700]+" !important"},borderRadius:10,marginRight:e.spacing()},input:{marginLeft:e.spacing(1),flex:1},avatar:{width:30,height:30,background:"transparent",border:"solid 1px "+e.palette.grey[300]},iconStyle:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:"#9c9c9c"}},sectionTitle:{color:"#424242",fontSize:"0.85rem",marginRight:20,fontWeight:400}}));function Fe(e){const{selectedEndpoint:t,updateSelectedEndpoint:a}=e,{api:s,api:{advertiseInfo:o}}=Object(n.useContext)(j.a),[c,m]=Object(n.useState)(!1),p=Object(r.a)(),h=We(),E=()=>{m(!0);setTimeout((function(){m(!1)}),2e3)};return i.a.createElement(g.a,{display:"flex",flexDirection:"column",width:"100%"},i.a.createElement(g.a,{mr:5,display:"flex","area-label":"API URL details",alignItems:"center",width:"100%",flexDirection:"row"},t&&(!o||!o.advertised)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{variant:"subtitle2",component:"label",for:"gateway-envirounment",gutterBottom:!0,align:"left",className:h.sectionTitle},i.a.createElement(l.a,{id:"Apis.Details.Environments.label.url",defaultMessage:"URL"})),i.a.createElement(d.a,{id:"gateway-envirounment",component:"form",className:h.root},s.endpointURLs.length>1&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ue.a,{value:t.environmentName,onChange:a,"aria-label":"Select the Gateway Environment"},s.endpointURLs.map(e=>i.a.createElement(Pe.a,{value:e.environmentName},e.environmentDisplayName||e.environmentName))),i.a.createElement(u.a,{height:"GRAPHQL"===s.type&&(t.URLs.ws||t.URLs.wss)?80:30})),i.a.createElement(g.a,{display:"flex",flexDirection:"column",width:"100%"},i.a.createElement(g.a,{py:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},i.a.createElement(V.a,{title:i.a.createElement(f.a,{color:"inherit"},"GRAPHQL"===s.type?p.formatMessage({defaultMessage:"Gateway HTTP URL for GraphQL Queries and Mutations",id:"Apis.Details.Environments.GraphQL.HTTP.Gateway.URL"}):p.formatMessage({defaultMessage:"Gateway URL",id:"Apis.Details.Environments.Gateway.URL"})),placement:"left-start",arrow:!0},i.a.createElement(se.a,{className:h.input,inputProps:{"aria-label":"api url"},value:t.URLs.https||t.URLs.http||t.URLs.wss||t.URLs.ws,"data-testid":"http-url"})),i.a.createElement(de.a,{className:h.avatar,sizes:30},i.a.createElement(V.a,{title:c?p.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):p.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:h.iconStyle},i.a.createElement(H.a,{text:t.URLs.https||t.URLs.http||t.URLs.wss||t.URLs.ws,onCopy:()=>E()},i.a.createElement(oe.a,{"aria-label":"Copy the API URL to clipboard"},i.a.createElement(K.a,{color:"secondary"},"file_copy")))))),"GRAPHQL"===s.type&&(t.URLs.ws||t.URLs.wss)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Be.a,{light:!0}),i.a.createElement(g.a,{pt:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},i.a.createElement(i.a.Fragment,null,i.a.createElement(V.a,{title:i.a.createElement(f.a,{color:"inherit"},p.formatMessage({defaultMessage:"Gateway Websocket URL for GraphQL Subscriptions",id:"Apis.Details.Environments.GraphQL.WS.Gateway.URL"})),placement:"left-start",arrow:!0},i.a.createElement(se.a,{className:h.input,inputProps:{"aria-label":"api url"},value:t.URLs.wss||t.URLs.ws,"data-testid":"websocket-url"})),i.a.createElement(de.a,{className:h.avatar,sizes:30},i.a.createElement(V.a,{title:c?p.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):p.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:h.iconStyle},i.a.createElement(H.a,{text:t.URLs.wss||t.URLs.ws,onCopy:()=>E()},i.a.createElement(oe.a,{"aria-label":"Copy the API URL to clipboard"},i.a.createElement(K.a,{color:"secondary"},"file_copy"))))))))))),o&&o.advertised&&(o.apiExternalProductionEndpoint||o.apiExternalSandboxEndpoint)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{variant:"subtitle2",component:"label",for:"external-endpoint-url",gutterBottom:!0,align:"left",className:h.sectionTitle},i.a.createElement(l.a,{id:"Apis.Details.Environments.externalEndpoint.label.url",defaultMessage:"URL"})),i.a.createElement(d.a,{id:"external-endpoint-url",component:"form",className:h.root},i.a.createElement(g.a,{display:"flex",flexDirection:"column",width:"100%"},i.a.createElement(g.a,{py:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},i.a.createElement(V.a,{title:i.a.createElement(f.a,{color:"inherit"},p.formatMessage({defaultMessage:"External Production Endpoint",id:"Apis.Details.Environments.apiExternalProductionEndpoint"})),placement:"left-start",arrow:!0},i.a.createElement(se.a,{className:h.input,inputProps:{"aria-label":"api url"},value:o.apiExternalProductionEndpoint})),i.a.createElement(de.a,{className:h.avatar,sizes:30},i.a.createElement(V.a,{title:c?p.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):p.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:h.iconStyle},i.a.createElement(H.a,{text:o.apiExternalProductionEndpoint,onCopy:()=>E()},i.a.createElement(oe.a,{"aria-label":"Copy the API URL to clipboard"},i.a.createElement(K.a,{color:"secondary"},"file_copy")))))),o.apiExternalSandboxEndpoint&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Be.a,{light:!0}),i.a.createElement(g.a,{pt:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},i.a.createElement(i.a.Fragment,null,i.a.createElement(V.a,{title:i.a.createElement(f.a,{color:"inherit"},p.formatMessage({defaultMessage:"External Sandbox Endpoint",id:"Apis.Details.Environments.apiExternalSandboxEndpoint"})),placement:"left-start",arrow:!0},i.a.createElement(se.a,{className:h.input,inputProps:{"aria-label":"api url"},value:o.apiExternalSandboxEndpoint})),i.a.createElement(de.a,{className:h.avatar,sizes:30},i.a.createElement(V.a,{title:c?p.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):p.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:h.iconStyle},i.a.createElement(H.a,{text:o.apiExternalSandboxEndpoint,onCopy:()=>E()},i.a.createElement(oe.a,{"aria-label":"Copy the API URL to clipboard"},i.a.createElement(K.a,{color:"secondary"},"file_copy"))))))))))),!t&&o&&o.advertised&&!(o.apiExternalProductionEndpoint||o.apiExternalSandboxEndpoint)&&i.a.createElement(f.a,{variant:"subtitle2",component:"p",gutterBottom:!0,align:"left",className:h.sectionTitle},i.a.createElement(l.a,{id:"Apis.Details.Environments.label.noendpoint",defaultMessage:"No endpoints yet."})),i.a.createElement(Ne,null)),(!s.advertiseInfo||!s.advertiseInfo.advertised)&&i.a.createElement(g.a,{ml:8,alignItems:"center",mt:1},t&&i.a.createElement(f.a,{variant:"caption"},(()=>{const{defaultVersionURLs:e}=t;return e&&(e.https||e.http||e.ws||e.wss)?i.a.createElement(i.a.Fragment,null,`\n            ${p.formatMessage({id:"Apis.Details.Environments.default.url",defaultMessage:"( Default Version ) "})}\n            ${e.https||e.http||e.ws||e.wss}`,i.a.createElement(V.a,{title:c?p.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):p.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:h.iconStyle},i.a.createElement(H.a,{text:e.https||e.http||e.ws||e.wss,onCopy:()=>E()},i.a.createElement(oe.a,{"aria-label":"Copy the Default Version URL to clipboard"},i.a.createElement(K.a,{color:"secondary"},"file_copy"))))):null})())))}Fe.propTypes={classes:me.a.shape({}).isRequired,intl:me.a.shape({}).isRequired};var ze=Fe,_e=a(2626),qe=a(4983),Ge=a(4984),He=a(4985),Ve=a(1663);function Ke(e){const[t,a]=Object(n.useState)([]),s=Object(r.a)(),{apiId:o}=e,c=Object(ge.i)();Object(n.useEffect)(()=>{(new re.a).getDocumentsByAPIId(o).then(e=>{e.obj.list.length>0&&a(e.obj.list)}).catch(e=>{const{status:t}=e;404===t&&ne.a.error(s.formatMessage({id:"Apis.Details.Overview.documents.error.occurred",defaultMessage:"Error occurred"}))})},[]);const{classes:m}=e;return 0===t.length?i.a.createElement(p.a,{container:!0,className:m.root,spacing:2},i.a.createElement(p.a,{item:!0,xs:12},i.a.createElement("div",{className:m.emptyBox},i.a.createElement(f.a,{variant:"body2"},i.a.createElement(l.a,{id:"Apis.Details.Overview.documents.no.content",defaultMessage:"No Documents Available"}))))):t.length>0&&i.a.createElement(qe.a,{component:"nav","aria-label":"Available document list",className:m.listWrapper},t.map((e,t)=>t<=1&&i.a.createElement(Ge.a,{button:!0,onClick:()=>{return t=e.documentId,void c.push("/apis/"+o+"/documents/"+t);var t},className:m.listItemStyle,key:e.name},i.a.createElement(He.a,{classes:{root:m.listItemIcon}},i.a.createElement(K.a,null,"insert_drive_file")),i.a.createElement(Ve.a,{primary:e.name,classes:{primary:m.listItemPrimary}}))))}Ke.propTypes={classes:me.a.shape({}).isRequired,theme:me.a.shape({}).isRequired};var Qe=Object(O.a)(e=>({root:{padding:e.spacing(3),maxWidth:e.custom.contentAreaWidth},iconClass:{marginRight:10,color:e.palette.secondary.main},boxBadge:{background:e.palette.grey.A400,color:e.palette.getContrastText(e.palette.grey.A400),fontSize:e.typography.h5.fontSize,padding:e.spacing(1),width:30,height:30,marginRight:20,textAlign:"center"},subscriptionBox:{paddingLeft:e.spacing(2)},linkStyle:{color:e.palette.getContrastText(e.palette.background.default),fontSize:e.typography.fontSize},subscriptionTop:{display:"flex",flexDirection:"row",alignItems:"center"},resourceWrapper:{height:192,overflow:"auto"},actionPanel:{justifyContent:"flex-start"},linkToTest:{textDecoration:"none"},emptyBox:{background:"#ffffff55",color:"#444",border:"solid 1px #fff",padding:e.spacing(2),marginTop:50},listWrapper:{padding:0,margin:0,width:"100%"},listItemStyle:{padding:0,margin:0},listItemIcon:{minWidth:30,color:"#BBBEBC66"},listItemPrimary:{fontSize:"14px"}}),{withTheme:!0})(Ke),Ye=a(2103),$e=a.n(Ye),Je=a(11),Xe=a(1369),Ze=a.n(Xe),et=a(177),tt=a.n(et);const at=Object(c.a)(e=>({iconStyle:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:e.palette.secondary.main}},buttonIcon:{marginRight:10},downloadLink:{fontSize:14,color:e.palette.primary.main,display:"flex"}}));var nt=function(e){const{selectedEndpoint:t}=e,{api:a}=Object(n.useContext)(j.a),s=new re.a,o=at(),c=Object(r.a)(),m=Je.a.getCookieWithoutEnvironment("WSO2_AM_TOKEN_1_Default"),[d,p]=Object(n.useState)(!1),{location:u}=window,{app:{customUrl:{tenantDomain:h}}}=F.a;let f="";if("null"!==h)f=h;else if(u){const{tenant:e}=tt.a.parse(u.search);e&&(f=e)}const E=f,b=e=>{e.preventDefault();s.getWsdlClient().downloadWSDLForEnvironment(a.id,t.environmentName).then(e=>{Je.a.downloadFile(e)}).catch(e=>{0})},y=e=>{e.preventDefault();s.getGraphQLSchemaByAPIId(a.id).then(e=>{const t=a.provider+"-"+a.name+"-"+a.version+".graphql";Je.a.downloadFile(e,t)}).catch(e=>{0})},v=e=>{let n;e.preventDefault(),n=t.environmentName?s.getSwaggerByAPIIdAndEnvironment(a.id,t.environmentName):s.getSwaggerByAPIId(a.id),n.then(e=>{Je.a.downloadFile(e)}).catch(e=>{console.log(e),ne.a.error(c.formatMessage({id:"Apis.Details.Environments.download.swagger.error",defaultMessage:"Error downloading the Swagger"}))})},C=e=>{e.preventDefault();s.getAsyncApiSpecificationByAPIIdAndEnvironment(a.id,t.environmentName).then(e=>{Je.a.downloadFile(e)}).catch(e=>{console.error(e),ne.a.error(c.formatMessage({id:"Apis.Details.Environments.download.asyncapi.error",defaultMessage:"Error downloading the AsyncAPI Specification"}))})};return"SOAP"===a.type?i.a.createElement(V.a,{title:i.a.createElement(l.a,{id:"Apis.Details.Environments.download.wsdl",defaultMessage:"WSDL"}),placement:"right",className:o.iconStyle},i.a.createElement("a",{onKeyDown:b,onClick:b,className:o.downloadLink},i.a.createElement($e.a,{className:o.buttonIcon}),i.a.createElement(l.a,{id:"Apis.Details.Environments.download.wsdl.text",defaultMessage:"Download WSDL"}))):"HTTP"===a.type||"SOAPTOREST"===a.type?i.a.createElement(g.a,{display:"flex",alignItems:"center"},i.a.createElement(V.a,{title:i.a.createElement(l.a,{id:"Apis.Details.Environments.download.swagger",defaultMessage:"Swagger"}),placement:"right",className:o.iconStyle},i.a.createElement("a",{onClick:v,onKeyDown:v,className:o.downloadLink,id:"swagger-download-btn"},i.a.createElement($e.a,{className:o.buttonIcon}),i.a.createElement(l.a,{id:"Apis.Details.Environments.download.swagger.text",defaultMessage:"Download Swagger"}))),i.a.createElement(V.a,{title:d?i.a.createElement(l.a,{id:"Apis.Details.Swagger.URL.copied",defaultMessage:"Copied"}):i.a.createElement(l.a,{id:"Apis.Details.Swagger.URL.copy.to.clipboard",defaultMessage:"Copy to clipboard"}),placement:"top"},i.a.createElement(H.a,{text:u.origin+"/api/am/devportal/v3/apis/"+a.id+"/swagger?accessToken="+m+"&X-WSO2-Tenant-Q="+E+"&environmentName="+t.environmentName,onCopy:()=>p("urlCopied")},i.a.createElement(ue.a,{"aria-label":"Copy to clipboard",size:"small"},i.a.createElement(Ze.a,{className:o.buttonIcon}))))):"WS"===a.type||"WEBSUB"===a.type||"SSE"===a.type||"ASYNC"===a.type?i.a.createElement(V.a,{title:i.a.createElement(l.a,{id:"Apis.Details.Environments.download.asyncapi",defaultMessage:"AsyncAPI Specification"}),placement:"right",className:o.iconStyle},i.a.createElement("a",{onKeyDown:C,onClick:C,className:o.downloadLink,id:"swagger-download-btn"},i.a.createElement($e.a,{className:o.buttonIcon}),i.a.createElement(l.a,{id:"Apis.Details.Environments.download.asyncapi.text",defaultMessage:"Download AsyncAPI Specification"}))):"GRAPHQL"===a.type?i.a.createElement(V.a,{title:i.a.createElement(l.a,{id:"Apis.Details.Environments.download.graphQL",defaultMessage:"GraphQL"}),placement:"right",className:o.iconStyle},i.a.createElement("a",{onKeyDown:y,onClick:y,className:o.downloadLink},i.a.createElement($e.a,{className:o.buttonIcon}),i.a.createElement(l.a,{id:"Apis.Details.Environments.download.graphql.text",defaultMessage:"Download GraphQL"}))):void 0};const it=Object(c.a)(e=>({root:{width:"100%",height:"100vh",paddingLeft:e.spacing(2),paddingTop:e.spacing(2)},linkTitle:{color:e.palette.grey[800]},description:{color:e.palette.grey[700]},textLabel:{fontWeight:400,color:e.palette.grey[800]},textValue:{textIndent:e.spacing(1)},apiThumb:{padding:e.spacing(),border:"solid 1px",borderColor:e.palette.grey[800]},chipRoot:{cursor:"pointer",marginRight:e.spacing()},subtitle:{color:e.palette.grey[800]},cardRoot:{width:150,height:150,marginRight:e.spacing(),marginTop:e.spacing(2)},sectionTitle:{color:e.palette.grey[800],fontSize:"0.95rem",fontWeight:400},moreLink:{fontSize:"14px"},table:{"& th":{fontWeight:400}},requestCount:{fontSize:22},requestUnit:{fontSize:13},launchIcon:{paddingLeft:e.spacing(1)},originalDevportalUrl:{marginTop:e.spacing(4)}}));t.default=function(){const e=Object(m.a)(),{custom:{apiDetailPages:{showCredentials:t,showComments:a,showDocuments:c},infoBar:{showThumbnail:C},social:{showRating:w},showSwaggerDescriptionOnOverview:x}}=e,O=Object(r.a)(),{api:A,api:{advertiseInfo:D},subscribedApplications:B}=Object(n.useContext)(j.a),[W,F]=Object(n.useState)(!0),[z,_]=Object(n.useState)(!1),[q,G]=Object(n.useState)(!1),[H,V]=Object(n.useState)(null),[K,Q]=Object(n.useState)(null),[Y,$]=Object(n.useState)(null),[J,X]=Object(n.useState)(null),[Z,se]=Object(n.useState)({avgRating:0,total:0,count:0}),[oe,ce]=Object(n.useState)(A.endpointURLs&&A.endpointURLs.length>0?A.endpointURLs[0]:null),me=it();let de=!1,pe="";if(A.description){const e=40;if(A.description.split(" ").length>e){pe=A.description.split(" ").slice(0,e).join(" ")+"...",de=!0}}const ue=()=>(new re.a).getAllTiers("subscription").then(e=>{try{const t=e.body.list.filter(e=>(e=>{const t=A.tiers.filter(t=>t.tierName===e);return t&&t.length>0})(e.name));X(t)}catch(e){console.log(e),ne.a.error(O.formatMessage({id:"Apis.Details.Overview.error.occurred",defaultMessage:"Error occurred"}))}}).catch(e=>{console.log(e);const{status:t}=e;ne.a.error(O.formatMessage({id:"Apis.Details.Overview.error.occurred.subs",defaultMessage:"Error occurred when fetching subscription policies"})),404===t&&G(!0),V([]),_(!1)}),ge=()=>(new re.a).getDocumentsByAPIId(A.id).then(e=>{const t=e.body.list.filter(e=>"_overview"===e.otherTypeName);t.length>0&&Q(t[0]),V(e.body.list)}).catch(e=>{console.log(e);const{status:t}=e;ne.a.error(O.formatMessage({id:"Apis.Details.Overview.error.occurred.docs",defaultMessage:"Error occurred when fetching documents"})),404===t&&G(!0),V([]),_(!1)});Object(n.useEffect)(()=>{_(!0);const{endpointURLs:e}=A;e&&e.length>0&&ce(e[0]),Promise.all([ge(),ue()]).then(()=>{_(!1)})},[A]),Object(n.useEffect)(()=>{const e=new re.a;x?e.getSwaggerByAPIIdAndEnvironment(A.id,oe.environmentName).then(e=>{const t=e.obj;t&&t.info?$(t.info.description):$("")}).catch(e=>{console.log(e),$("")}):(_(!0),Promise.all([ge(),ue()]).then(()=>{_(!1)}))},[]);const he=()=>A.keyManagers?"all"===A.keyManagers[0]?null:A.keyManagers.map(e=>i.a.createElement(f.a,{variant:"body2"},e)):null,fe=ae.a.getUser();return z?i.a.createElement(ie.a,null):x?Y?i.a.createElement(g.a,{p:3},i.a.createElement(N.a,{plugins:[I.a],escapeHtml:!0},Y)):i.a.createElement(ie.a,null):H?q?i.a.createElement(te.a,{message:O.formattedMessage({id:"Apis.Details.Overview.not.found.message",defaultMessage:"Resource Not Found"})}):K?i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{className:me.paperWithDoc,elevation:0},i.a.createElement(le.a,{doc:K,apiId:A.id,fullScreen:!0,dontShowName:!0}))):i.a.createElement(d.a,{className:me.root,elevation:0},i.a.createElement(p.a,{container:!0},i.a.createElement(p.a,{item:!0,sm:8,xl:9},i.a.createElement(g.a,{display:"flex",flexDirection:"column"},i.a.createElement(g.a,{display:"flex",flexDirection:"row"},C&&i.a.createElement(g.a,{id:"overview-thumbnail",width:86,display:"flex",alignItems:"center"},i.a.createElement(g.a,{className:me.apiThumb},i.a.createElement(L.a,{api:A,customWidth:70,customHeight:50,showInfo:!1}))),i.a.createElement(g.a,{ml:3,mr:2},i.a.createElement(f.a,{variant:"h4",component:"h2"},A.name),A.description&&i.a.createElement(f.a,{variant:"body2",gutterBottom:!0,align:"left",className:me.description},de&&W?pe:A.description,de&&i.a.createElement("a",{"aria-label":"Show more/less description",onClick:e=>{e.preventDefault(),F(!W)},href:"#"},W?O.formatMessage({defaultMessage:" more",id:"Apis.Details.Overview.description.more"}):O.formatMessage({defaultMessage:" less",id:"Apis.Details.Overview.description.less"}))),i.a.createElement(g.a,{display:"flex","area-lable":"API version and owner details",flexDirection:"row"},i.a.createElement(f.a,{variant:"body2",gutterBottom:!0,align:"left",className:me.textLabel},i.a.createElement(l.a,{id:"Apis.Details.Overview.list.version",defaultMessage:"Version "}))," ",i.a.createElement(f.a,{variant:"body2",gutterBottom:!0,align:"left",className:me.textValue},A.version),i.a.createElement(u.a,{height:20}),i.a.createElement(f.a,{variant:"body2",gutterBottom:!0,align:"left",className:me.textLabel},i.a.createElement(l.a,{id:"Apis.Details.Overview.list.provider",defaultMessage:"By "}))," ",i.a.createElement(f.a,{variant:"body2",gutterBottom:!0,align:"left",className:me.textValue},(()=>{let{provider:e}=A;return A.businessInformation&&A.businessInformation.businessOwner&&""!==A.businessInformation.businessOwner.trim()&&(e=A.businessInformation.businessOwner),e})())))),i.a.createElement(g.a,{display:"flex",flexDirection:"row",alignItems:"center",mt:2,pr:6},"solace"===A.gatewayVendor?i.a.createElement(Le,null):i.a.createElement(ze,{updateSelectedEndpoint:e=>{const t=e.target.value,a=A.endpointURLs.filter(e=>e.environmentName===t);a&&a.length>0?ce(a[0]):ne.a.error(O.formatMessage({id:"Apis.Details.Overview.select.env.error",defaultMessage:"Error Selecting Environment"}))},selectedEndpoint:oe})),i.a.createElement(g.a,{display:"flex",flexDirection:"row",alignItems:"center",className:me.originalDevportalUrl,mt:2,pr:6},D&&D.advertised&&D.originalDevPortalUrl&&i.a.createElement(o.a,{target:"_blank",rel:"noopener noreferrer",href:D.originalDevPortalUrl,variant:"body3"},i.a.createElement(l.a,{id:"Apis.Details.Credentials.Credentials.visit.original.developer.portal",defaultMessage:"Visit Original Developer Portal"}),i.a.createElement(R.a,{className:me.launchIcon}))),"wso2"===A.gatewayVendor&&J&&J.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{mt:6},i.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:me.sectionTitle},i.a.createElement(l.a,{id:"Apis.Details.Overview.business.plans.title",defaultMessage:"Business Plans"}))),i.a.createElement(g.a,{flexWrap:"wrap",display:"flex",flexDirection:"row",alignItems:"center",mt:2,ml:1,textAlign:"center"},J&&J.map(e=>i.a.createElement(E.a,{className:me.cardRoot,key:e.name},i.a.createElement(k.a,null,i.a.createElement(f.a,{className:me.cardMainTitle,color:"textSecondary",gutterBottom:!0},e.name),i.a.createElement(g.a,{mt:2},i.a.createElement(f.a,{className:me.requestCount,color:"textSecondary"},2147483647===e.requestCount?"Unlimited":e.requestCount)),i.a.createElement(g.a,null,i.a.createElement(f.a,{className:me.requestUnit,color:"textSecondary"},"Requests/",e.timeUnit))))))),t&&B.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{mt:6},i.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:me.sectionTitle},i.a.createElement(l.a,{id:"Apis.Details.Overview.subscriptions.title",defaultMessage:"Subscriptions"}))),i.a.createElement(g.a,{mt:2,ml:1,pr:6},i.a.createElement(T,{component:d.a},i.a.createElement(b.a,{className:me.table,"aria-label":"simple table"},i.a.createElement(S.a,null,i.a.createElement(M.a,null,i.a.createElement(v.a,null,i.a.createElement(l.a,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.name",defaultMessage:"Application Name"})),i.a.createElement(v.a,null,i.a.createElement(l.a,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.tier",defaultMessage:"Throttling Tier"})),i.a.createElement(v.a,null,i.a.createElement(l.a,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.status",defaultMessage:"Application Status"})))),i.a.createElement(y.a,null,B.map(e=>i.a.createElement(M.a,{key:e.label},i.a.createElement(v.a,{component:"th",scope:"row"},i.a.createElement(o.a,{component:s.c,to:`/applications/${e.value}/overview`},e.label)),i.a.createElement(v.a,null,e.policy),i.a.createElement(v.a,null,e.status)))))))),i.a.createElement(g.a,{mt:6},a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:me.sectionTitle},i.a.createElement(l.a,{id:"Apis.Details.Overview.comments.title",defaultMessage:"Comments"})),i.a.createElement(g.a,{pr:6},A&&i.a.createElement(_e.default,{apiId:A.id,isOverview:!0})))))),i.a.createElement(p.a,{item:!0,xs:4,xl:3},fe&&w&&i.a.createElement(g.a,{display:"flex",flexDirection:"row",alignItems:"center"},i.a.createElement(U.a,{avgRating:Z.avgRating,reviewCount:Z.total,returnCount:Z.count}),i.a.createElement(u.a,{height:30}),i.a.createElement(P.a,{apiId:A.id,isEditable:!0,showSummary:!1,setRatingUpdate:e=>{if(e){const{avgRating:t,total:a,count:n}=e;se({avgRating:t,total:a,count:n})}}})),i.a.createElement(g.a,{mt:6},i.a.createElement(ee,null)),i.a.createElement(g.a,{mt:6,mb:1},i.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:me.sectionTitle},i.a.createElement(l.a,{id:"Apis.Details.Overview.tags.title",defaultMessage:"Tags"}))),i.a.createElement(f.a,{variant:"body2",className:me.endpointLabel},A.tags.map(e=>i.a.createElement(h.a,{label:e,key:e,component:s.c,clickable:!0,to:"/apis?offset=0&query=tag:"+e,classes:{root:me.chipRoot},variant:"outlined",size:"small"})),0===A.tags.length&&i.a.createElement(l.a,{id:"Apis.Details.Overview.list.tags.not",defaultMessage:"Not Tagged"})),c&&H&&H.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{mt:6},i.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:me.sectionTitle},i.a.createElement(l.a,{id:"Apis.Details.Overview.documents.title",defaultMessage:"Documents"}))),i.a.createElement(g.a,{pr:2,pl:1},i.a.createElement(Qe,{apiId:A.id}),H.length>2&&i.a.createElement(o.a,{component:s.c,to:"/apis/"+A.id+"/documents",className:me.moreLink},H.length-2," ",i.a.createElement(l.a,{id:"Apis.Details.Overview.comments.show.more.more",defaultMessage:"more"})))),A.businessInformation.businessOwnerEmail&&i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{mt:6},i.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:me.sectionTitle},i.a.createElement(l.a,{id:"Apis.Details.Overview.business.info",defaultMessage:"Business Info"}))),i.a.createElement(g.a,{mt:1},i.a.createElement(f.a,{variant:"body2"},A.businessInformation.businessOwnerEmail))),i.a.createElement(g.a,{mt:6},i.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:me.sectionTitle},i.a.createElement(l.a,{id:"Apis.Details.Overview.source",defaultMessage:"Source"}))),("HTTP"===A.type||"SOAPTOREST"===A.type||"SOAP"===A.type||"GRAPHQL"===A.type||"WS"===A.type||"WEBSUB"===A.type||"SSE"===A.type||"ASYNC"===A.type)&&i.a.createElement(g.a,{mt:2},oe&&i.a.createElement(nt,{selectedEndpoint:oe})),he()&&i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{mt:6},i.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:me.sectionTitle},i.a.createElement(l.a,{id:"Apis.Details.Overview.key.manager",defaultMessage:"Key Managers"}))),i.a.createElement(g.a,{mt:1},he())),A.additionalProperties&&Object.keys(A.additionalProperties).length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{mt:6},i.a.createElement(f.a,{variant:"subtitle2",className:me.sectionTitle},i.a.createElement(l.a,{id:"Apis.Details.Overview.additional.properties",defaultMessage:"Additonal properties"}))),i.a.createElement(g.a,{mt:1,ml:1},A.additionalProperties.filter(e=>{let{name:t,display:a}=e;return a&&!["slack_url","github_repo"].includes(t)}).map(e=>{let{name:t,value:a}=e;return i.a.createElement(f.a,{variant:"body2"},t," ",":"," ",a)})))))):i.a.createElement(ie.a,null)}}}]);
//# sourceMappingURL=APIOverview.9b9a6e01add6e880d662.bundle.js.map