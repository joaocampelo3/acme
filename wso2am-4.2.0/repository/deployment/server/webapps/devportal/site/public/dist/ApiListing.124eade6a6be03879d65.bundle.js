(this.webpackJsonp=this.webpackJsonp||[]).push([[28],{1307:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return r}));var i=a(2),n=a.n(i),s=a(22),l=a.n(s),o=a(48);const r={APIS:"/apis",SINGLE_API:"/apis/{apiId}",API_SWAGGER:"/apis/{apiId}/swagger",API_WSDL:"/apis/{apiId}/wsdl",API_GW_CONFIG:"/apis/{apiId}/gateway-config",API_THUMBNAIL:"/apis/{apiId}/thumbnail",API_COPY:"/apis/copy-api",API_LC_HISTORY:"/apis/{apiId}/lifecycle-history",API_CHANGE_LC:"/apis/change-lifecycle",API_LC:"/apis/{apiId}/lifecycle",API_LC_PENDING_TASK:"/apis/{apiId}/lifecycle/lifecycle-pending-task",API_DEF:"/apis/import-definition",API_VALIDATE_DEF:"/apis/validate-definition",API_DOCS:"/apis/{apiId}/documents",API_DOC:"'/apis/{apiId}/documents/{documentId}'",API_DOC_CONTENT:"'/apis/{apiId}/documents/{documentId}/content'",APPLICATIONS:"/applications",SINGLE_APPLICATION:"/applications/{applicationId}",APPLICATION_GENERATE_KEYS:"/applications/{applicationId}/generate-keys",APPLICATION_GENERATE_KEY_TYPE:"/applications/{applicationId}/keys/{keyType}",EXPORT_APIS:"/export/apis",IMPORT_APIS:"/import/apis",SUBSCRIPTION:"/subscriptions",SINGLE_SUBSCRIPTION:"/subscriptions/{subscriptionId}",SUBSCRIPTIONS:"/subscriptions",BLOCK_SUBSCRIPTION:"/subscriptions/block-subscription:",UNBLOCK_SUBSCRIPTION:"/subscriptions/unblock-subscription",POLICIES:"'/policies/{tierLevel}'",POLICY:"'/policies/{tierLevel}/{tierName}'",ENDPOINTS:"/endpoints",ENDPOINT:"/endpoints/{endpointId}",LABLES:"/labels",WORKFLOW:"/workflows/{workflowReferenceId}",SERVICE_DISCOVERY:"/external-resources/services"},c={POST:"post",PUT:"put",GET:"get",DELETE:"delete"};class p extends n.a.Component{constructor(e){super(e),this.state={}}componentDidMount(){const{resourcePath:e,resourceMethod:t}=this.props,a=o.a.hasScopes(e,t);a&&a.then(e=>{this.setState({haveScope:e})})}render(){const{children:e}=this.props;return this.state.haveScope&&e||null}}p.propTypes={children:l.a.node.isRequired,resourcePath:l.a.string.isRequired,resourceMethod:l.a.string.isRequired}},1698:function(e,t,a){"use strict";var i=a(7),n=a(75),s=a(174),l=a(2),o=a(1212),r=a(1213),c=a(1224),p=a(5021),d=a(4995),g=a(4996),u=a(357),m=a(1660),h={enter:u.b.enteringScreen,exit:u.b.leavingScreen},E=l.forwardRef((function(e,t){var a=e.BackdropProps,s=e.children,r=e.classes,u=e.className,E=e.disableBackdropClick,b=void 0!==E&&E,f=e.disableEscapeKeyDown,A=void 0!==f&&f,P=e.fullScreen,S=void 0!==P&&P,C=e.fullWidth,I=void 0!==C&&C,v=e.maxWidth,y=void 0===v?"sm":v,T=e.onBackdropClick,L=e.onClose,N=e.onEnter,O=e.onEntered,w=e.onEntering,x=e.onEscapeKeyDown,D=e.onExit,k=e.onExited,M=e.onExiting,B=e.open,R=e.PaperComponent,_=void 0===R?m.a:R,W=e.PaperProps,j=void 0===W?{}:W,G=e.scroll,q=void 0===G?"paper":G,K=e.TransitionComponent,H=void 0===K?g.a:K,V=e.transitionDuration,U=void 0===V?h:V,F=e.TransitionProps,z=e["aria-describedby"],Y=e["aria-labelledby"],$=Object(n.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),J=l.useRef();return l.createElement(p.a,Object(i.a)({className:Object(o.default)(r.root,u),BackdropComponent:d.a,BackdropProps:Object(i.a)({transitionDuration:U},a),closeAfterTransition:!0},b?{disableBackdropClick:b}:{},{disableEscapeKeyDown:A,onEscapeKeyDown:x,onClose:L,open:B,ref:t},$),l.createElement(H,Object(i.a)({appear:!0,in:B,timeout:U,onEnter:N,onEntering:w,onEntered:O,onExit:D,onExiting:M,onExited:k,role:"none presentation"},F),l.createElement("div",{className:Object(o.default)(r.container,r["scroll".concat(Object(c.a)(q))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===J.current&&(J.current=null,T&&T(e),!b&&L&&L(e,"backdropClick"))},onMouseDown:function(e){J.current=e.target}},l.createElement(_,Object(i.a)({elevation:24,role:"dialog","aria-describedby":z,"aria-labelledby":Y},j,{className:Object(o.default)(r.paper,r["paperScroll".concat(Object(c.a)(q))],r["paperWidth".concat(Object(c.a)(String(y)))],j.className,S&&r.paperFullScreen,I&&r.paperFullWidth)}),s))))}));t.a=Object(r.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(s.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(s.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(s.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(s.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(s.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(E)},1920:function(e,t,a){"use strict";var i=a(2),n=a.n(i),s=a(1698),l=a(1921),o=a(1922),r=a(1923),c=a(1924),p=a(1678),d=a(4994),g=a(1653),u=a(22),m=a.n(u);const h=e=>{const{handleAppDelete:t,isDeleteOpen:a,toggleDeleteConfirmation:i}=e;return n.a.createElement(s.a,{open:a,transition:d.a,role:"alertdialog"},n.a.createElement(l.a,null,n.a.createElement(g.a,{id:"Applications.Listing.DeleteConfirmation.dialog.title",defaultMessage:"Delete Application"})),n.a.createElement(o.a,null,n.a.createElement(r.a,null,n.a.createElement(g.a,{id:"Applications.Listing.DeleteConfirmation.dialog.text.description",defaultMessage:"The application will be removed"}))),n.a.createElement(c.a,null,n.a.createElement(p.a,{dense:!0,onClick:i},n.a.createElement(g.a,{id:"Applications.Listing.DeleteConfirmation.dialog.cancel",defaultMessage:"Cancel"})),n.a.createElement(p.a,{id:"itest-confirm-application-delete",size:"small",variant:"outlined",color:"primary",onClick:t},n.a.createElement(g.a,{id:"Applications.Listing.DeleteConfirmation.dialog,delete",defaultMessage:"Delete"}))))};h.propTypes={handleAppDelete:m.a.func.isRequired,isDeleteOpen:m.a.bool.isRequired,toggleDeleteConfirmation:m.a.func.isRequired},t.a=h},1921:function(e,t,a){"use strict";var i=a(7),n=a(75),s=a(2),l=a(1212),o=a(1213),r=a(1655),c=s.forwardRef((function(e,t){var a=e.children,o=e.classes,c=e.className,p=e.disableTypography,d=void 0!==p&&p,g=Object(n.a)(e,["children","classes","className","disableTypography"]);return s.createElement("div",Object(i.a)({className:Object(l.default)(o.root,c),ref:t},g),d?a:s.createElement(r.a,{component:"h2",variant:"h6"},a))}));t.a=Object(o.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(c)},1922:function(e,t,a){"use strict";var i=a(7),n=a(75),s=a(2),l=a(1212),o=a(1213),r=s.forwardRef((function(e,t){var a=e.classes,o=e.className,r=e.dividers,c=void 0!==r&&r,p=Object(n.a)(e,["classes","className","dividers"]);return s.createElement("div",Object(i.a)({className:Object(l.default)(a.root,o,c&&a.dividers),ref:t},p))}));t.a=Object(o.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(r)},1923:function(e,t,a){"use strict";var i=a(7),n=a(2),s=a(1213),l=a(1655),o=n.forwardRef((function(e,t){return n.createElement(l.a,Object(i.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}));t.a=Object(s.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(o)},1924:function(e,t,a){"use strict";var i=a(7),n=a(75),s=a(2),l=a(1212),o=a(1213),r=s.forwardRef((function(e,t){var a=e.disableSpacing,o=void 0!==a&&a,r=e.classes,c=e.className,p=Object(n.a)(e,["disableSpacing","classes","className"]);return s.createElement("div",Object(i.a)({className:Object(l.default)(r.root,c,!o&&r.spacing),ref:t},p))}));t.a=Object(o.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(r)},2762:function(e,t,a){"use strict";var i=a(1214),n=a(1216);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a(2)),l=(0,i(a(1217)).default)(s.createElement("path",{d:"M13.89 8.7L12 10.59 10.11 8.7a.9959.9959 0 00-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 8.7 13.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l1.89 1.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l1.89-1.89c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.38-1.41 0zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOffRounded");t.default=l},5027:function(e,t,a){"use strict";a.r(t);var i=a(2),n=a.n(i),s=a(1679),l=a(1655),o=a(1213),r=a(22),c=a.n(r),p=a(1684),d=a(1798),g=a(1678),u=a(1660),m=a(1689),h=a(1687),E=a(4988),b=a(1305),f=a(1653),A=a(361),P=a(535),S=a(1307),C=a(1225),I=a(1288),v=a(1279),y=a(212),T=a(25),L=a(4992),N=a(1677),O=a(1656),w=a(1664),x=a(1665),D=a(1695),k=a.n(D),M=a(2762),B=a.n(M),R=a(1685),_=a(1686),W=a(4991),j=a(4978),G=a(1273),q=a(48);const K=Object(o.a)(e=>({head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14},root:{padding:`0 0 0  ${e.spacing(2)}px`}}))(_.a),H=Object(o.a)(e=>({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}))(h.a);class V extends i.Component{constructor(e){super(e),this.state={notFound:!1},this.APPLICATION_STATES={CREATED:"CREATED",APPROVED:"APPROVED",REJECTED:"REJECTED",DELETE_PENDING:"DELETE_PENDING"}}render(){const{apps:e,toggleDeleteConfirmation:t,classes:a}=this.props,{notFound:i}=this.state;let s=[];return e&&(s=[...e.values()].map(e=>{const t=e;return t.deleting=!1,t})),i?n.a.createElement(G.a,null):n.a.createElement(R.a,{className:a.fullHeight},s.map(e=>{const i=e.owner.toLowerCase()===q.a.getUser().name.toLowerCase();return n.a.createElement(H,{className:a.tableRow,key:e.applicationId,"data-testid":"row-"+e.name},n.a.createElement(K,{align:"left",className:a.appName},e.status===this.APPLICATION_STATES.APPROVED||e.status===this.APPLICATION_STATES.DELETE_PENDING?n.a.createElement(P.c,{to:"/applications/"+e.applicationId},e.name):e.name),n.a.createElement(K,{align:"left"},e.owner.toLowerCase()),n.a.createElement(K,{align:"left"},e.throttlingPolicy),n.a.createElement(K,{align:"left"},e.status===this.APPLICATION_STATES.APPROVED&&n.a.createElement(l.a,{variant:"subtitle1",component:"label",gutterBottom:!0},n.a.createElement(f.a,{id:"Applications.Listing.AppsTableContent.active",defaultMessage:"ACTIVE"})),e.status===this.APPLICATION_STATES.CREATED&&n.a.createElement(n.a.Fragment,null,n.a.createElement(l.a,{variant:"subtitle1",component:"label",gutterBottom:!0},n.a.createElement(f.a,{id:"Applications.Listing.AppsTableContent.inactive",defaultMessage:"INACTIVE"})),n.a.createElement(l.a,{variant:"caption",style:{textIndent:"10px",display:"inline-block"}},n.a.createElement(f.a,{id:"Applications.Listing.AppsTableContent.wait.approval",defaultMessage:"waiting for approval"}))),e.status===this.APPLICATION_STATES.REJECTED&&n.a.createElement(l.a,{variant:"subtitle1",component:"label",gutterBottom:!0},n.a.createElement(f.a,{id:"Applications.Listing.AppsTableContent.rejected",defaultMessage:"REJECTED"})),e.status===this.APPLICATION_STATES.DELETE_PENDING&&n.a.createElement(l.a,{variant:"subtitle1",component:"label",gutterBottom:!0},n.a.createElement(f.a,{id:"Applications.Listing.AppsTableContent.deletePending",defaultMessage:"DELETE PENDING"}))),n.a.createElement(K,{align:"left"},e.subscriptionCount),n.a.createElement(K,{align:"left"},n.a.createElement(S.a,{resourcePath:S.c.SINGLE_APPLICATION,resourceMethod:S.b.PUT},(e.status===this.APPLICATION_STATES.APPROVED||e.status===this.APPLICATION_STATES.DELETE_PENDING)&&n.a.createElement(w.a,{title:i?n.a.createElement(f.a,{id:"Applications.Listing.AppsTableContent.edit.tooltip",defaultMessage:"Edit"}):n.a.createElement(f.a,{id:"Applications.Listing.AppsTableContent.edit.tooltip.disabled.button",defaultMessage:"Not allowed to modify shared applications"})},n.a.createElement("span",null,n.a.createElement(P.c,{to:`/applications/${e.applicationId}/edit/`,className:!i&&a.appOwner},n.a.createElement(x.a,{disabled:!i,"aria-label":"Edit"+e.name},n.a.createElement(W.a,null,"edit")))))),n.a.createElement(S.a,{resourcePath:S.c.SINGLE_APPLICATION,resourceMethod:S.b.DELETE},n.a.createElement(w.a,{title:i?n.a.createElement(f.a,{id:"Applications.Listing.AppsTableContent.delete.tooltip",defaultMessage:"Delete"}):n.a.createElement(f.a,{id:"Applications.Listing.AppsTableContent.delete.tooltip.disabled.button",defaultMessage:"Not allowed to delete shared applications"})},n.a.createElement("span",null,n.a.createElement(x.a,{className:"itest-application-delete-button",disabled:e.deleting||!i||e.status===this.APPLICATION_STATES.DELETE_PENDING,"data-appid":e.applicationId,onClick:t,color:"default","aria-label":"Delete"+e.name,id:"delete-"+e.name+"-btn"},n.a.createElement(W.a,null,"delete"))))),e.deleting&&n.a.createElement(j.a,{size:24})))}))}}V.propTypes={toggleDeleteConfirmation:c.a.func.isRequired,apps:c.a.instanceOf(Map).isRequired};var U=Object(o.a)(e=>({fullHeight:{height:"100%"},tableRow:{height:e.spacing(5),"& td":{padding:e.spacing(.5)}},appOwner:{pointerEvents:"none"},appName:{"& a":{color:"#1b9ec7 !important"}}}))(V),F=a(1691),z=a(1799);const Y=e=>{const t=[{id:"name",numeric:!1,disablePadding:!0,label:n.a.createElement(f.a,{id:"Applications.Listing.ApplicationTableHead.name",defaultMessage:"Name"}),sorting:!0},{id:"owner",numeric:!1,disablePadding:!1,label:n.a.createElement(f.a,{id:"Applications.Listing.ApplicationTableHead.owner",defaultMessage:"Owner"}),sorting:!0},{id:"throttlingTier",numeric:!1,disablePadding:!1,label:n.a.createElement(f.a,{id:"Applications.Listing.ApplicationTableHead.policy",defaultMessage:"Policy"}),sorting:!0},{id:"workflowStatus",numeric:!1,disablePadding:!1,label:n.a.createElement(f.a,{id:"Applications.Listing.ApplicationTableHead.workflow.status",defaultMessage:"Workflow Status"}),sorting:!1},{id:"subscriptions",numeric:!1,disablePadding:!1,label:n.a.createElement(f.a,{id:"Applications.Listing.ApplicationTableHead.subscriptions",defaultMessage:"Subscriptions"}),sorting:!1},{id:"actions",numeric:!1,disablePadding:!1,label:n.a.createElement(f.a,{id:"Applications.Listing.ApplicationTableHead.actions",defaultMessage:"Actions"}),sorting:!1}],{order:a,orderBy:i}=e;return n.a.createElement(F.a,null,n.a.createElement(h.a,null,t.map(t=>{return n.a.createElement(_.a,{key:t.id,align:"left",sortDirection:i===t.id&&a},t.sorting?n.a.createElement(z.a,{active:i===t.id,direction:a,onClick:(s=t.id,t=>{e.onRequestSort(t,s)})},t.label):t.label);var s})))};Y.propTypes={onRequestSort:c.a.func.isRequired,order:c.a.string.isRequired,orderBy:c.a.string.isRequired};var $=Y,J=a(1920);function Q(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class X extends i.Component{constructor(e){super(e),Q(this,"constfilterApps",()=>{this.setState({page:0}),this.updateApps(void 0,0),this.isApplicationGroupSharingEnabled()}),Q(this,"clearSearch",()=>{this.setState({query:"",data:null,page:0}),this.updateApps("",0),this.isApplicationGroupSharingEnabled()}),Q(this,"isApplicationGroupSharingEnabled",()=>{const e=this.context.settings.applicationSharingEnabled;this.setState({isApplicationSharingEnabled:e})}),Q(this,"setQuery",e=>{const t=e.target.value;""===t?this.clearSearch():this.setState({query:t})}),Q(this,"updateApps",(e,t)=>{const{page:a,rowsPerPage:i,order:n,orderBy:s,query:l}=this.state,o=void 0!==e?e:l,r=void 0!==t?t:a;v.a.all(i,r*i,n,s,o).then(e=>{const{pagination:{total:t}}=e,a=new Map;e.list.map(e=>a.set(e.applicationId,e)),this.setState({data:a,totalApps:t})}).catch(e=>{console.log(e);const{status:t}=e;404===t?this.setState({notFound:!0}):401===t&&(window.location=T.appSettings.context+"/services/configs")})}),Q(this,"handleRequestSort",(e,t)=>{const{orderBy:a,order:i}=this.state;let n="desc";a===t?(n="desc"===i?"asc":"desc",this.setState({order:n},this.updateApps)):this.setState({order:n,orderBy:t},this.updateApps)}),Q(this,"handleChangePage",(e,t)=>{this.setState({page:t},this.updateApps)}),Q(this,"handleChangeRowsPerPage",e=>{const t=e.target.value,{rowsPerPage:a,page:i}=this.state,n=a/t,s=Math.floor(i*n);this.setState({rowsPerPage:t,page:s},this.updateApps)}),Q(this,"handleClickOpen",()=>{const{history:e}=this.props;e.push("/applications/create")}),Q(this,"filterApps",()=>{this.setState({page:0}),this.updateApps(void 0,0),this.isApplicationGroupSharingEnabled()}),Q(this,"toggleDeleteConfirmation",e=>{let t="";e&&(t=e.currentTarget.getAttribute("data-appid")),this.setState(e=>{let{isDeleteOpen:a}=e;return{isDeleteOpen:!a,deletingId:t}})}),Q(this,"handleSearchKeyPress",e=>{"Enter"===e.key&&(this.setState({page:0}),this.updateApps(void 0,0),this.isApplicationGroupSharingEnabled())}),this.state={order:"asc",orderBy:"name",data:null,page:0,rowsPerPage:X.rowsPerPage,isApplicationSharingEnabled:!0,isDeleteOpen:!1,totalApps:0,query:""},this.handleAppDelete=this.handleAppDelete.bind(this),this.setQuery=this.setQuery.bind(this),this.handleSearchKeyPress=this.handleSearchKeyPress.bind(this),this.filterApps=this.filterApps.bind(this),this.clearSearch=this.clearSearch.bind(this)}componentDidMount(){this.updateApps(),this.isApplicationGroupSharingEnabled()}handleAppDelete(){const{data:e,deletingId:t,page:a}=this.state,{intl:i}=this.props,n=new Map([...e]),s=n.get(t);s.deleting=!0;let l=i.formatMessage({defaultMessage:"Application {name} deleted successfully!",id:"Applications.Listing.Listing.application.deleted.successfully"},{name:s.name});v.a.deleteApp(t).then(e=>{201===e?(n.delete(t),C.a.info(i.formatMessage({defaultMessage:"Delete request created for application {name}",id:"Applications.Listing.Listing.application.deleting.requested"},{name:s.name})),this.toggleDeleteConfirmation(),0===n.size&&0!==a&&this.setState(e=>({page:e.page-1})),this.updateApps()):200===e&&(n.delete(t),C.a.info(l),this.toggleDeleteConfirmation(),0===n.size&&0!==a&&this.setState(e=>({page:e.page-1})),this.updateApps())}).catch(e=>{console.log(e),l=i.formatMessage({defaultMessage:"Error while deleting application {name}",id:"Applications.Listing.Listing.application.deleting.error"},{name:s.name}),C.a.error(l)})}render(){const{data:e,order:t,orderBy:a,rowsPerPage:i,page:o,isApplicationSharingEnabled:r,isDeleteOpen:c,totalApps:A,query:C}=this.state,{classes:v,theme:y,intl:T}=this.props,D=y.palette.getContrastText(y.custom.infoBar.background),M=A>X.rowsPerPage;return n.a.createElement("div",{className:v.content},n.a.createElement("div",{className:v.root},n.a.createElement(E.a,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},n.a.createElement("div",{className:v.mainIconWrapper},n.a.createElement(b.a,{strokeColor:D,width:42,height:42,icon:"applications"})),n.a.createElement("div",{className:v.mainTitleWrapper},n.a.createElement(l.a,{variant:"h4",component:"h1",className:v.mainTitle},n.a.createElement(f.a,{id:"Applications.Listing.Listing.applications",defaultMessage:"Applications"})),n.a.createElement("div",{className:v.createLinkWrapper},n.a.createElement(S.a,{resourcePath:S.c.APPLICATIONS,resourceMethod:S.b.POST},n.a.createElement(P.c,{id:"itest-application-create-link",to:"/applications/create"},n.a.createElement(g.a,{variant:"contained",color:"primary"},n.a.createElement(f.a,{id:"Applications.Create.Listing.add.new.application",defaultMessage:"Add New Application"}))))))),n.a.createElement(E.a,{display:"flex",pl:4},n.a.createElement(l.a,{variant:"caption",gutterBottom:!0,align:"left"},n.a.createElement(f.a,{id:"Applications.Listing.Listing.logical.description",defaultMessage:"An application is a logical collection of APIs. \n                                        Applications allow you to use a single access token to invoke a\n                                         collection of APIs and to subscribe to one API multiple times\n                                          and allows unlimited access by default."})))),n.a.createElement(u.a,{className:v.paper},n.a.createElement(L.a,{className:v.searchBar,position:"static",color:"default",elevation:0},n.a.createElement(N.a,null,n.a.createElement(s.a,{container:!0,spacing:2,alignItems:"center"},n.a.createElement(s.a,{item:!0},n.a.createElement(k.a,{className:v.block,color:"inherit"})),n.a.createElement(s.a,{item:!0,xs:!0},n.a.createElement(O.a,{fullWidth:!0,id:"search-label",label:T.formatMessage({defaultMessage:"Search",id:"Applications.Listing.Listing.applications.search.label"}),placeholder:T.formatMessage({defaultMessage:"Search application by name",id:"Applications.Listing.Listing.applications.search.placeholder"}),InputProps:{disableUnderline:!0,className:v.searchInput},value:C,onChange:this.setQuery,onKeyPress:this.handleSearchKeyPress}),C.length>0&&n.a.createElement(w.a,{title:T.formatMessage({defaultMessage:"Clear Search",id:"Applications.Listing.Listing.clear.search"})},n.a.createElement(x.a,{"aria-label":"delete",className:v.clearSearch,onClick:this.clearSearch},n.a.createElement(B.a,null)))),n.a.createElement(s.a,{item:!0},n.a.createElement(g.a,{variant:"contained",className:v.addUser,onClick:this.filterApps},n.a.createElement(f.a,{id:"Applications.Listing.Listing.applications.search",defaultMessage:"Search"})))))),!e&&n.a.createElement("div",{className:v.contentWrapper},n.a.createElement(I.a,null)),e&&n.a.createElement("div",{className:v.contentWrapper},e.size>0?n.a.createElement("div",{className:v.appContent},n.a.createElement(u.a,{className:v.appTablePaper},n.a.createElement(p.a,{id:"itest-application-list-table"},n.a.createElement($,{order:t,orderBy:a,onRequestSort:this.handleRequestSort}),n.a.createElement(U,{handleAppDelete:this.handleAppDelete,apps:e,page:o,rowsPerPage:i,order:t,orderBy:a,isApplicationSharingEnabled:r,toggleDeleteConfirmation:this.toggleDeleteConfirmation}),M&&n.a.createElement(m.a,null,n.a.createElement(h.a,null,n.a.createElement(d.a,{component:"td",count:A,rowsPerPage:i,rowsPerPageOptions:[5,10,15],labelRowsPerPage:"Show",page:o,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})))))):""===C?n.a.createElement("div",{className:v.noDataMessage},n.a.createElement(l.a,{variant:"h6",gutterBottom:!0},n.a.createElement(f.a,{id:"Applications.Listing.Listing.noapps.display.title",defaultMessage:"No Applications Available"})),n.a.createElement(l.a,{variant:"body2",gutterBottom:!0},n.a.createElement("a",{onClick:this.handleClickOpen,onKeyDown:this.handleClickOpen,className:v.clearSearchLink},n.a.createElement(f.a,{id:"Applications.Listing.Listing.noapps.display.link.text",defaultMessage:"Add New Application"})))):n.a.createElement("div",{className:v.noDataMessage},n.a.createElement(l.a,{variant:"h6",gutterBottom:!0},n.a.createElement(f.a,{id:"Applications.Listing.Listing.applications.no.search.results.title",defaultMessage:"No Matching Applications"})),n.a.createElement(l.a,{variant:"body2",gutterBottom:!0},n.a.createElement(f.a,{id:"Applications.Listing.Listing.applications.no.search.results.body.prefix",defaultMessage:"Check the spelling or try to "}),n.a.createElement("a",{onClick:this.clearSearch,onKeyDown:this.clearSearch,className:v.clearSearchLink},n.a.createElement(f.a,{id:"Applications.Listing.Listing.applications.no.search.results.body.sufix",defaultMessage:"clear the search"})))),n.a.createElement(J.a,{handleAppDelete:this.handleAppDelete,isDeleteOpen:c,toggleDeleteConfirmation:this.toggleDeleteConfirmation}))))}}Q(X,"rowsPerPage",10),X.contextType=y.c,X.propTypes={classes:c.a.shape({root:c.a.string,flex:c.a.string,content:c.a.string,mainIconWrapper:c.a.string,mainTitle:c.a.string,mainTitleWrapper:c.a.string,createLinkWrapper:c.a.string,appContent:c.a.string}).isRequired,theme:c.a.shape({}).isRequired,intl:c.a.shape({}).isRequired,history:c.a.shape({push:c.a.func}).isRequired};t.default=Object(A.c)(Object(o.a)(e=>({noDataMessage:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:40},clearSearch:{position:"absolute",right:111,top:13},paper:{margin:30},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},searchInput:{fontSize:e.typography.fontSize,height:50},block:{display:"block"},addUser:{marginRight:e.spacing(1)},contentWrapper:{margin:0},card:{minWidth:275,paddingBottom:20},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},pos:{marginBottom:12,color:e.palette.text.secondary},createAppWrapper:{textDecoration:"none"},divider:{marginBottom:20},createButton:{textDecoration:"none",display:"inline-block",marginLeft:20,alignSelf:"flex-start"},titleWrapper:{display:"flex"},content:{flexGrow:1},root:{minHeight:80,background:e.custom.infoBar.background,color:e.palette.getContrastText(e.custom.infoBar.background),borderBottom:"solid 1px "+e.palette.grey.A200,display:"block"},mainIconWrapper:{paddingTop:e.spacing(1.5),paddingLeft:e.spacing(3),paddingRight:e.spacing(2.5)},mainTitleWrapper:{display:"flex"},createLinkWrapper:{paddingLeft:e.spacing(2)},appContent:{marginTop:0,margin:"auto",maxHeight:e.spacing(90),height:e.spacing(90),overflow:"scroll"},dialogContainer:{width:1e3,padding:e.spacing(2)},container:{height:"100%"},appTablePaper:{"& table tr td":{paddingLeft:e.spacing(1)},"& table tr td:first-child, & table tr th:first-child":{paddingLeft:e.spacing(2)},"& table tr:nth-child(even)":{backgroundColor:e.custom.listView.tableBodyEvenBackgrund,"& td, & a, & .material-icons":{color:e.palette.getContrastText(e.custom.listView.tableBodyEvenBackgrund)}},"& table tr:nth-child(odd)":{backgroundColor:e.custom.listView.tableBodyOddBackgrund,"& td, & a, & .material-icons":{color:e.palette.getContrastText(e.custom.listView.tableBodyOddBackgrund)}},"& table th":{backgroundColor:e.custom.listView.tableHeadBackground,color:e.palette.getContrastText(e.custom.listView.tableHeadBackground),paddingLeft:e.spacing(1)},"& table tr td button.Mui-disabled span.material-icons":{color:e.palette.action.disabled}},clearSearchLink:{color:e.palette.primary.light,cursor:"pointer"}}),{withTheme:!0})(X))}}]);
//# sourceMappingURL=ApiListing.124eade6a6be03879d65.bundle.js.map